2022-08-18 15:12:47.742 +02:00 [INF] Application is shutting down...
2022-08-18 15:20:46.334 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 15:20:48.306 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 15:20:48.504 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-08-18 15:20:48.543 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 15:20:48.980 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Name", "p"."Priority"
FROM "Projects" AS "p"
2022-08-18 15:20:49.236 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."IsDone", "t"."ProjectId", "t"."Title"
FROM "ToDoItems" AS "t"
2022-08-18 15:20:49.554 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:20:49.581 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:20:49.591 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:20:49.621 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Projects"
WHERE "Id" = @p1;
SELECT changes();
2022-08-18 15:20:49.801 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:20:49.867 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:20:49.874 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:20:49.878 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:20:49.947 +02:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId"
FROM "BankAccount" AS "b"
2022-08-18 15:20:50.068 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'myBankAccount.Infrastructure.Data.AppDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2022-08-18 15:20:50.106 +02:00 [ERR] An error occurred seeding the DB. SQLite Error 1: 'no such table: BankAccount'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at myBankAccount.Web.SeedData.PopulateBankAccountTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 96
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 91
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 94
2022-08-18 15:20:50.393 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 15:20:50.394 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 15:20:50.413 +02:00 [INF] Hosting environment: Development
2022-08-18 15:20:50.422 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 15:20:59.267 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 15:20:59.771 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 15:21:00.203 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 949.6441ms
2022-08-18 15:21:01.760 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 15:21:02.430 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 666.9079ms
2022-08-18 15:21:06.954 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccount/1 - -
2022-08-18 15:21:06.957 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 15:21:07.111 +02:00 [INF] Route matched with {action = "Index", controller = "BankAccount", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32) on controller myBankAccount.Web.Controllers.BankAccountController (myBankAccount.Web).
2022-08-18 15:21:07.399 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 15:21:07.718 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId"
FROM "BankAccount" AS "b"
WHERE "b"."Id" = @__BankAccountId_0
LIMIT 1
2022-08-18 15:21:07.750 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'myBankAccount.Infrastructure.Data.AppDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2022-08-18 15:21:07.895 +02:00 [INF] Executed action myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web) in 754.1703ms
2022-08-18 15:21:07.898 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 15:21:07.906 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.GetBySpecAsync[Spec](Spec specification, CancellationToken cancellationToken)
   at myBankAccount.Web.Controllers.BankAccountController.Index(Int32 bankAccountId) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Controllers/BankAccountController.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 15:21:07.967 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccount/1 - - - 500 - text/plain;+charset=utf-8 1012.4807ms
2022-08-18 15:32:48.734 +02:00 [INF] Application is shutting down...
2022-08-18 15:33:28.332 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 15:33:30.371 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 15:33:30.591 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-08-18 15:33:30.641 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 15:33:31.696 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Name", "p"."Priority"
FROM "Projects" AS "p"
2022-08-18 15:33:32.084 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."IsDone", "t"."ProjectId", "t"."Title"
FROM "ToDoItems" AS "t"
2022-08-18 15:33:32.834 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:33:32.986 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:33:32.995 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:33:33.097 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Projects"
WHERE "Id" = @p1;
SELECT changes();
2022-08-18 15:33:33.474 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:33:33.592 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:33:33.600 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:33:33.603 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:33:33.704 +02:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId"
FROM "BankAccount" AS "b"
2022-08-18 15:33:33.837 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'myBankAccount.Infrastructure.Data.AppDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2022-08-18 15:33:33.865 +02:00 [ERR] An error occurred seeding the DB. SQLite Error 1: 'no such table: BankAccount'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at myBankAccount.Web.SeedData.PopulateBankAccountTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 96
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 91
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 94
2022-08-18 15:33:34.245 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 15:33:34.248 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 15:33:34.250 +02:00 [INF] Hosting environment: Development
2022-08-18 15:33:34.252 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 15:33:37.270 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 15:33:37.505 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 15:33:37.909 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 649.2983ms
2022-08-18 15:33:38.232 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 15:33:38.518 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 286.1227ms
2022-08-18 15:38:28.538 +02:00 [INF] Application is shutting down...
2022-08-18 15:41:13.904 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 15:41:18.386 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 15:41:18.658 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-08-18 15:41:18.758 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 15:41:19.460 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Name", "p"."Priority"
FROM "Projects" AS "p"
2022-08-18 15:41:19.628 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."IsDone", "t"."ProjectId", "t"."Title"
FROM "ToDoItems" AS "t"
2022-08-18 15:41:19.889 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:41:19.937 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:41:19.987 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:41:20.017 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Projects"
WHERE "Id" = @p1;
SELECT changes();
2022-08-18 15:41:20.264 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:41:20.341 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:41:20.379 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:41:20.394 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:41:20.462 +02:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId"
FROM "BankAccount" AS "b"
2022-08-18 15:41:20.545 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'myBankAccount.Infrastructure.Data.AppDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2022-08-18 15:41:20.632 +02:00 [ERR] An error occurred seeding the DB. SQLite Error 1: 'no such table: BankAccount'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at myBankAccount.Web.SeedData.PopulateBankAccountTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 96
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 91
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 94
2022-08-18 15:41:20.901 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 15:41:20.903 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 15:41:20.904 +02:00 [INF] Hosting environment: Development
2022-08-18 15:41:20.905 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 15:51:17.447 +02:00 [INF] Application is shutting down...
2022-08-18 15:51:51.866 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 15:51:53.719 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 15:51:53.930 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-08-18 15:51:53.947 +02:00 [INF] Test 01
2022-08-18 15:51:53.954 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 15:51:54.358 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Name", "p"."Priority"
FROM "Projects" AS "p"
2022-08-18 15:51:54.697 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."IsDone", "t"."ProjectId", "t"."Title"
FROM "ToDoItems" AS "t"
2022-08-18 15:51:55.051 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:51:55.082 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:51:55.084 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:51:55.097 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Projects"
WHERE "Id" = @p1;
SELECT changes();
2022-08-18 15:51:55.359 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:51:55.452 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:51:55.462 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:51:55.482 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:51:55.530 +02:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId"
FROM "BankAccount" AS "b"
2022-08-18 15:51:55.600 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'myBankAccount.Infrastructure.Data.AppDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2022-08-18 15:51:55.621 +02:00 [ERR] An error occurred seeding the DB. SQLite Error 1: 'no such table: BankAccount'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at myBankAccount.Web.SeedData.PopulateBankAccountTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 99
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 94
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 94
2022-08-18 15:51:55.843 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 15:51:55.851 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 15:51:55.851 +02:00 [INF] Hosting environment: Development
2022-08-18 15:51:55.857 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 15:54:05.589 +02:00 [INF] Application is shutting down...
2022-08-18 15:57:36.149 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 15:57:37.877 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 15:57:38.048 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-08-18 15:57:38.086 +02:00 [INF] Test 01
2022-08-18 15:57:38.140 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 15:57:38.523 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Name", "p"."Priority"
FROM "Projects" AS "p"
2022-08-18 15:57:38.737 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."IsDone", "t"."ProjectId", "t"."Title"
FROM "ToDoItems" AS "t"
2022-08-18 15:57:39.162 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:57:39.199 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:57:39.212 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:57:39.242 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Projects"
WHERE "Id" = @p1;
SELECT changes();
2022-08-18 15:57:39.478 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:57:39.580 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:57:39.612 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:57:39.638 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:57:39.671 +02:00 [INF] Test 02
2022-08-18 15:57:39.918 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 15:57:39.934 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 15:57:39.939 +02:00 [INF] Hosting environment: Development
2022-08-18 15:57:39.942 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 15:58:00.553 +02:00 [INF] Application is shutting down...
2022-08-18 15:58:43.940 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 15:58:46.063 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 15:58:46.274 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-08-18 15:58:46.334 +02:00 [INF] Test 01
2022-08-18 15:58:46.358 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 15:58:46.928 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Name", "p"."Priority"
FROM "Projects" AS "p"
2022-08-18 15:58:47.333 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."IsDone", "t"."ProjectId", "t"."Title"
FROM "ToDoItems" AS "t"
2022-08-18 15:58:47.873 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:58:47.907 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:58:47.908 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ToDoItems"
WHERE "Id" = @p0;
SELECT changes();
2022-08-18 15:58:48.027 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Projects"
WHERE "Id" = @p1;
SELECT changes();
2022-08-18 15:58:48.264 +02:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccount" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccount"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 15:58:48.338 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'myBankAccount.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-18 15:58:48.448 +02:00 [ERR] An error occurred seeding the DB. An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccount'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at myBankAccount.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Infrastructure/Data/AppDbContext.cs:line 32
   at myBankAccount.Infrastructure.Data.AppDbContext.SaveChanges() in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Infrastructure/Data/AppDbContext.cs:line 50
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 93
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 94
2022-08-18 15:58:48.723 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 15:58:48.723 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 15:58:48.725 +02:00 [INF] Hosting environment: Development
2022-08-18 15:58:48.729 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:00:38.384 +02:00 [INF] Application is shutting down...
2022-08-18 16:05:35.266 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:05:37.062 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:05:37.410 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-08-18 16:05:37.446 +02:00 [INF] Test 01
2022-08-18 16:05:37.476 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:05:37.911 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Name", "p"."Priority"
FROM "Projects" AS "p"
2022-08-18 16:05:37.926 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."IsDone", "t"."ProjectId", "t"."Title"
FROM "ToDoItems" AS "t"
2022-08-18 16:05:38.572 +02:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:05:38.670 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'myBankAccount.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccounts'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccounts'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-18 16:05:38.740 +02:00 [ERR] An error occurred seeding the DB. An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccounts'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at myBankAccount.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Infrastructure/Data/AppDbContext.cs:line 32
   at myBankAccount.Infrastructure.Data.AppDbContext.SaveChanges() in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Infrastructure/Data/AppDbContext.cs:line 50
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 93
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 94
2022-08-18 16:05:39.047 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:05:39.053 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:05:39.055 +02:00 [INF] Hosting environment: Development
2022-08-18 16:05:39.056 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:07:13.699 +02:00 [INF] Application is shutting down...
2022-08-18 16:07:39.440 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:07:43.052 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:07:43.242 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-08-18 16:07:43.337 +02:00 [INF] Test 01
2022-08-18 16:07:43.389 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:07:43.905 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Name", "p"."Priority"
FROM "Projects" AS "p"
2022-08-18 16:07:43.963 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."IsDone", "t"."ProjectId", "t"."Title"
FROM "ToDoItems" AS "t"
2022-08-18 16:07:44.002 +02:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId"
FROM "BankAccounts" AS "b"
2022-08-18 16:07:44.065 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'myBankAccount.Infrastructure.Data.AppDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccounts'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccounts'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2022-08-18 16:07:44.120 +02:00 [ERR] An error occurred seeding the DB. SQLite Error 1: 'no such table: BankAccounts'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: BankAccounts'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 86
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 94
2022-08-18 16:07:44.328 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:07:44.332 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:07:44.332 +02:00 [INF] Hosting environment: Development
2022-08-18 16:07:44.333 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:08:15.238 +02:00 [INF] Application is shutting down...
2022-08-18 16:10:21.118 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:10:22.886 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:10:23.050 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-08-18 16:10:23.122 +02:00 [INF] Test 01
2022-08-18 16:10:23.132 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:10:23.601 +02:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Name", "p"."Priority"
FROM "Projects" AS "p"
2022-08-18 16:10:23.664 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'myBankAccount.Infrastructure.Data.AppDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Projects'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Projects'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2022-08-18 16:10:23.721 +02:00 [ERR] An error occurred seeding the DB. SQLite Error 1: 'no such table: Projects'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Projects'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 77
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 95
2022-08-18 16:10:23.954 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:10:23.963 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:10:23.966 +02:00 [INF] Hosting environment: Development
2022-08-18 16:10:23.967 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:10:51.694 +02:00 [INF] Application is shutting down...
2022-08-18 16:11:08.544 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:11:10.427 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:11:10.610 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 16:11:10.900 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 16:11:10.901 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 16:11:10.901 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_BankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "BankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 16:11:10.902 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankOperation" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankOperation" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_BankOperation_BankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "BankStatement" ("Id")
);
2022-08-18 16:11:10.903 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 16:11:10.903 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 16:11:10.905 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankOperation_BankStatementId" ON "BankOperation" ("BankStatementId");
2022-08-18 16:11:10.905 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 16:11:10.917 +02:00 [INF] Test 01
2022-08-18 16:11:10.937 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:11:11.463 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Name", "p"."Priority"
FROM "Projects" AS "p"
2022-08-18 16:11:11.544 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."IsDone", "t"."ProjectId", "t"."Title"
FROM "ToDoItems" AS "t"
2022-08-18 16:11:11.565 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId"
FROM "BankAccounts" AS "b"
2022-08-18 16:11:12.025 +02:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:11:12.091 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'myBankAccount.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-18 16:11:12.130 +02:00 [ERR] An error occurred seeding the DB. An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at myBankAccount.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Infrastructure/Data/AppDbContext.cs:line 32
   at myBankAccount.Infrastructure.Data.AppDbContext.SaveChanges() in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Infrastructure/Data/AppDbContext.cs:line 50
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 97
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 95
2022-08-18 16:11:12.360 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:11:12.368 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:11:12.369 +02:00 [INF] Hosting environment: Development
2022-08-18 16:11:12.374 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:13:41.005 +02:00 [INF] Application is shutting down...
2022-08-18 16:13:57.828 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:13:59.589 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:13:59.781 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 16:14:00.089 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 16:14:00.090 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 16:14:00.113 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_BankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "BankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 16:14:00.137 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankOperation" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankOperation" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_BankOperation_BankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "BankStatement" ("Id")
);
2022-08-18 16:14:00.149 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 16:14:00.187 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 16:14:00.219 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankOperation_BankStatementId" ON "BankOperation" ("BankStatementId");
2022-08-18 16:14:00.248 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 16:14:00.293 +02:00 [INF] Test 01
2022-08-18 16:14:00.340 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:14:00.696 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Name", "p"."Priority"
FROM "Projects" AS "p"
2022-08-18 16:14:00.718 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."IsDone", "t"."ProjectId", "t"."Title"
FROM "ToDoItems" AS "t"
2022-08-18 16:14:00.736 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId"
FROM "BankAccounts" AS "b"
2022-08-18 16:14:01.191 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:14:01.271 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:14:01.277 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:14:01.279 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:14:01.333 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId"
FROM "BankAccounts" AS "b"
2022-08-18 16:14:01.350 +02:00 [ERR] An error occurred seeding the DB. Value cannot be null. (Parameter 'source')
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Append[TSource](IEnumerable`1 source, TSource element)
   at myBankAccount.Web.SeedData.PopulateBankAccountTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 110
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 98
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 95
2022-08-18 16:14:01.651 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:14:01.653 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:14:01.653 +02:00 [INF] Hosting environment: Development
2022-08-18 16:14:01.660 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:18:07.307 +02:00 [INF] Application is shutting down...
2022-08-18 16:18:23.247 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:18:25.047 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:18:25.227 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 16:18:25.491 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 16:18:25.494 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 16:18:25.529 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_BankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "BankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 16:18:25.561 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankOperation" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankOperation" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_BankOperation_BankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "BankStatement" ("Id")
);
2022-08-18 16:18:25.617 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 16:18:25.659 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 16:18:25.711 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankOperation_BankStatementId" ON "BankOperation" ("BankStatementId");
2022-08-18 16:18:25.732 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 16:18:25.757 +02:00 [INF] Test 01
2022-08-18 16:18:25.804 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:18:26.324 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:18:26.412 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:18:26.415 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:18:26.440 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:18:26.512 +02:00 [ERR] An error occurred seeding the DB. Value cannot be null. (Parameter 'source')
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Append[TSource](IEnumerable`1 source, TSource element)
   at myBankAccount.Web.SeedData.PopulateBankAccountTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 87
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 82
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 95
2022-08-18 16:18:26.733 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:18:26.736 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:18:26.737 +02:00 [INF] Hosting environment: Development
2022-08-18 16:18:26.739 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:19:10.330 +02:00 [INF] Application is shutting down...
2022-08-18 16:21:16.919 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:21:18.715 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:21:18.902 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 16:21:19.159 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 16:21:19.160 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 16:21:19.191 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_BankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "BankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 16:21:19.222 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankOperation" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankOperation" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_BankOperation_BankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "BankStatement" ("Id")
);
2022-08-18 16:21:19.247 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 16:21:19.252 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 16:21:19.265 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankOperation_BankStatementId" ON "BankOperation" ("BankStatementId");
2022-08-18 16:21:19.283 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 16:21:19.304 +02:00 [INF] Test 01
2022-08-18 16:21:19.346 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:21:19.832 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:21:19.911 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:21:19.914 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:21:19.935 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:21:19.995 +02:00 [INF] operation to add @myBankAccount.Core.ProjectAggregate.BankOperation
2022-08-18 16:21:20.013 +02:00 [ERR] An error occurred seeding the DB. Value cannot be null. (Parameter 'source')
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Append[TSource](IEnumerable`1 source, TSource element)
   at myBankAccount.Web.SeedData.PopulateBankAccountTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 87
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 82
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 95
2022-08-18 16:21:20.265 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:21:20.268 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:21:20.268 +02:00 [INF] Hosting environment: Development
2022-08-18 16:21:20.269 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:23:06.043 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 16:23:06.980 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 16:23:10.153 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 4121.0972ms
2022-08-18 16:23:44.103 +02:00 [INF] Application is shutting down...
2022-08-18 16:24:16.416 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:24:20.811 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:24:21.476 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 16:24:22.131 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 16:24:22.192 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 16:24:22.259 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_BankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "BankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 16:24:22.270 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankOperation" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankOperation" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_BankOperation_BankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "BankStatement" ("Id")
);
2022-08-18 16:24:22.310 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 16:24:22.319 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 16:24:22.319 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankOperation_BankStatementId" ON "BankOperation" ("BankStatementId");
2022-08-18 16:24:22.321 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 16:24:22.337 +02:00 [INF] Test 01
2022-08-18 16:24:22.443 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:24:23.064 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:24:23.201 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:24:23.238 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:24:23.275 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:24:23.447 +02:00 [INF] operation to add {"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T16:24:22.3464480+02:00","Id":0,"DomainEvents":[],"$type":"BankOperation"}
2022-08-18 16:24:23.521 +02:00 [ERR] An error occurred seeding the DB. Value cannot be null. (Parameter 'source')
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Append[TSource](IEnumerable`1 source, TSource element)
   at myBankAccount.Web.SeedData.PopulateBankAccountTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 87
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 82
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 95
2022-08-18 16:24:23.804 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:24:23.816 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:24:23.844 +02:00 [INF] Hosting environment: Development
2022-08-18 16:24:23.854 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:26:59.642 +02:00 [INF] Application is shutting down...
2022-08-18 16:27:16.044 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:27:17.828 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:27:18.019 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 16:27:18.298 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 16:27:18.298 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 16:27:18.299 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_BankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "BankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 16:27:18.300 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankOperation" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankOperation" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_BankOperation_BankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "BankStatement" ("Id")
);
2022-08-18 16:27:18.300 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 16:27:18.301 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 16:27:18.301 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankOperation_BankStatementId" ON "BankOperation" ("BankStatementId");
2022-08-18 16:27:18.302 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 16:27:18.316 +02:00 [INF] Test 01
2022-08-18 16:27:18.347 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:27:18.884 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:27:18.976 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:27:18.978 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:27:18.999 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:27:19.117 +02:00 [INF] operation to add {"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T16:27:18.3247050+02:00","Id":0,"DomainEvents":[],"$type":"BankOperation"}
2022-08-18 16:27:19.179 +02:00 [INF] mystatement : {"bankOperations":null,"Id":0,"DomainEvents":[],"$type":"BankStatement"}
2022-08-18 16:27:19.182 +02:00 [INF] BankOperation : null
2022-08-18 16:27:19.203 +02:00 [ERR] An error occurred seeding the DB. Value cannot be null. (Parameter 'source')
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Append[TSource](IEnumerable`1 source, TSource element)
   at myBankAccount.Web.SeedData.PopulateBankAccountTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 90
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 82
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 69
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 95
2022-08-18 16:27:19.444 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:27:19.450 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:27:19.452 +02:00 [INF] Hosting environment: Development
2022-08-18 16:27:19.456 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:28:21.845 +02:00 [INF] Application is shutting down...
2022-08-18 16:28:43.915 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:28:45.678 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:28:45.883 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 16:28:46.132 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 16:28:46.133 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 16:28:46.134 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_BankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "BankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 16:28:46.134 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankOperation" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankOperation" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_BankOperation_BankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "BankStatement" ("Id")
);
2022-08-18 16:28:46.134 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 16:28:46.136 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 16:28:46.136 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankOperation_BankStatementId" ON "BankOperation" ("BankStatementId");
2022-08-18 16:28:46.138 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 16:28:46.150 +02:00 [INF] Test 01
2022-08-18 16:28:46.184 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:28:46.736 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:28:46.816 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:28:46.822 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:28:46.858 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:28:47.045 +02:00 [INF] operation to add {"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T16:28:46.1671940+02:00","Id":0,"DomainEvents":[],"$type":"BankOperation"}
2022-08-18 16:28:47.139 +02:00 [INF] mystatement : {"bankOperations":[],"Id":0,"DomainEvents":[],"$type":"BankStatement"}
2022-08-18 16:28:47.145 +02:00 [INF] BankOperation : []
2022-08-18 16:28:47.299 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:28:47.305 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:28:47.325 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:28:47.341 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:28:47.380 +02:00 [INF] Test 02
2022-08-18 16:28:47.586 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:28:47.602 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:28:47.603 +02:00 [INF] Hosting environment: Development
2022-08-18 16:28:47.606 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:29:20.499 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 16:29:20.629 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 16:29:20.805 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 312.0850ms
2022-08-18 16:29:21.279 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 16:29:21.554 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 274.5188ms
2022-08-18 16:29:27.183 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccount/1 - -
2022-08-18 16:29:27.189 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 16:29:27.369 +02:00 [INF] Route matched with {action = "Index", controller = "BankAccount", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32) on controller myBankAccount.Web.Controllers.BankAccountController (myBankAccount.Web).
2022-08-18 16:29:27.602 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:29:28.211 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId"
FROM "BankAccounts" AS "b"
WHERE "b"."Id" = @__BankAccountId_0
LIMIT 1
2022-08-18 16:29:28.242 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.ViewModels.BankAccountViewModel'.
2022-08-18 16:29:28.615 +02:00 [INF] Executed action myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web) in 1211.8605ms
2022-08-18 16:29:28.687 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 16:29:28.745 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccount/1 - - - 200 38 application/json;+charset=utf-8 1561.9254ms
2022-08-18 16:29:46.056 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 16:29:46.059 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:29:46.087 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 16:29:46.226 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:29:46.260 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 172.2294ms
2022-08-18 16:29:46.263 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:29:46.269 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<BankAccount>.Find' was of type 'BankAccountByIdWithItemsSpec', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.GetByIdAsync[TId](TId id, CancellationToken cancellationToken)
   at myBankAccount.Web.Endpoints.GetById.HandleAsync(GetBankAccountByIdRequest request, CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Endpoints/BankAccountEnpoints/GetById.cs:line 32
   at lambda_method667(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 16:29:46.450 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 500 - text/plain;+charset=utf-8 393.9026ms
2022-08-18 16:30:09.104 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccount/2 - -
2022-08-18 16:30:09.104 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 16:30:09.105 +02:00 [INF] Route matched with {action = "Index", controller = "BankAccount", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32) on controller myBankAccount.Web.Controllers.BankAccountController (myBankAccount.Web).
2022-08-18 16:30:09.106 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:30:09.120 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId"
FROM "BankAccounts" AS "b"
WHERE "b"."Id" = @__BankAccountId_0
LIMIT 1
2022-08-18 16:30:09.123 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.ViewModels.BankAccountViewModel'.
2022-08-18 16:30:09.125 +02:00 [INF] Executed action myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web) in 20.0447ms
2022-08-18 16:30:09.125 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 16:30:09.126 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccount/2 - - - 200 42 application/json;+charset=utf-8 21.8079ms
2022-08-18 16:30:37.825 +02:00 [INF] Application is shutting down...
2022-08-18 16:36:16.291 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:36:18.062 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:36:18.320 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 16:36:18.940 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 16:36:19.002 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 16:36:19.033 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_BankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "BankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 16:36:19.054 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankOperation" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankOperation" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_BankOperation_BankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "BankStatement" ("Id")
);
2022-08-18 16:36:19.078 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 16:36:19.079 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 16:36:19.080 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankOperation_BankStatementId" ON "BankOperation" ("BankStatementId");
2022-08-18 16:36:19.081 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 16:36:19.165 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:36:19.851 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:36:19.931 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:36:19.934 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:36:19.973 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:36:20.429 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:36:20.519 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:36:20.614 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:36:20.620 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:36:20.857 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:36:20.870 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:36:20.872 +02:00 [INF] Hosting environment: Development
2022-08-18 16:36:20.877 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:36:24.481 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 16:36:24.689 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 16:36:24.942 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 425.6776ms
2022-08-18 16:36:25.235 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 16:36:25.495 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 259.8575ms
2022-08-18 16:36:29.330 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccount/1 - -
2022-08-18 16:36:29.339 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 16:36:29.466 +02:00 [INF] Route matched with {action = "Index", controller = "BankAccount", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32) on controller myBankAccount.Web.Controllers.BankAccountController (myBankAccount.Web).
2022-08-18 16:36:29.732 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:36:30.419 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId"
FROM "BankAccounts" AS "b"
WHERE "b"."Id" = @__BankAccountId_0
LIMIT 1
2022-08-18 16:36:30.507 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.ViewModels.BankAccountViewModel'.
2022-08-18 16:36:30.713 +02:00 [INF] Executed action myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web) in 1197.4246ms
2022-08-18 16:36:30.847 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 16:36:30.887 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccount/1 - - - 200 38 application/json;+charset=utf-8 1557.4329ms
2022-08-18 16:36:38.758 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 16:36:38.760 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:36:38.784 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 16:36:38.955 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:36:39.020 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 235.4753ms
2022-08-18 16:36:39.032 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:36:39.039 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<BankAccount>.Find' was of type 'BankAccountByIdWithItemsSpec', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.GetByIdAsync[TId](TId id, CancellationToken cancellationToken)
   at myBankAccount.Web.Endpoints.GetById.HandleAsync(GetBankAccountByIdRequest request, CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Endpoints/BankAccountEnpoints/GetById.cs:line 32
   at lambda_method667(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 16:36:39.203 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 500 - text/plain;+charset=utf-8 445.2888ms
2022-08-18 16:36:58.102 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/Project/1 - -
2022-08-18 16:36:58.102 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Controllers.ProjectController.Index (myBankAccount.Web)'
2022-08-18 16:36:58.111 +02:00 [INF] Route matched with {action = "Index", controller = "Project", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32) on controller myBankAccount.Web.Controllers.ProjectController (myBankAccount.Web).
2022-08-18 16:36:58.159 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:36:58.742 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Priority", "t0"."Id", "t0"."Description", "t0"."IsDone", "t0"."ProjectId", "t0"."Title"
FROM (
    SELECT "p"."Id", "p"."Name", "p"."Priority"
    FROM "Projects" AS "p"
    WHERE "p"."Id" = @__projectId_0
    LIMIT 1
) AS "t"
LEFT JOIN "ToDoItems" AS "t0" ON "t"."Id" = "t0"."ProjectId"
ORDER BY "t"."Id"
2022-08-18 16:36:58.902 +02:00 [INF] Executing ViewResult, running view Index.
2022-08-18 16:36:59.220 +02:00 [INF] Executed ViewResult - view Index executed in 332.4976ms.
2022-08-18 16:36:59.260 +02:00 [INF] Executed action myBankAccount.Web.Controllers.ProjectController.Index (myBankAccount.Web) in 1148.8446ms
2022-08-18 16:36:59.269 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Controllers.ProjectController.Index (myBankAccount.Web)'
2022-08-18 16:36:59.422 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/Project/1 - - - 200 - text/html;+charset=utf-8 1320.7312ms
2022-08-18 16:37:40.253 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/Projects/1 - -
2022-08-18 16:37:40.254 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.ProjectEndpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:37:40.263 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.ProjectEndpoints.GetProjectByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.ProjectEndpoints.GetProjectByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.ProjectEndpoints.GetById (myBankAccount.Web).
2022-08-18 16:37:40.269 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:37:40.275 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Priority", "t0"."Id", "t0"."Description", "t0"."IsDone", "t0"."ProjectId", "t0"."Title"
FROM (
    SELECT "p"."Id", "p"."Name", "p"."Priority"
    FROM "Projects" AS "p"
    WHERE "p"."Id" = @__projectId_0
    LIMIT 1
) AS "t"
LEFT JOIN "ToDoItems" AS "t0" ON "t"."Id" = "t0"."ProjectId"
ORDER BY "t"."Id"
2022-08-18 16:37:40.279 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.ProjectEndpoints.GetProjectByIdResponse'.
2022-08-18 16:37:40.323 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.ProjectEndpoints.GetById.HandleAsync (myBankAccount.Web) in 59.6612ms
2022-08-18 16:37:40.323 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.ProjectEndpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:37:40.324 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/Projects/1 - - - 200 420 application/json;+charset=utf-8 70.2528ms
2022-08-18 16:38:08.197 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 16:38:08.197 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:38:08.198 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 16:38:08.199 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:38:08.202 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 4.5088ms
2022-08-18 16:38:08.203 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:38:08.204 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<BankAccount>.Find' was of type 'BankAccountByIdWithItemsSpec', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.GetByIdAsync[TId](TId id, CancellationToken cancellationToken)
   at myBankAccount.Web.Endpoints.GetById.HandleAsync(GetBankAccountByIdRequest request, CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Endpoints/BankAccountEnpoints/GetById.cs:line 32
   at lambda_method667(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 16:38:08.222 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 500 - text/plain;+charset=utf-8 25.0246ms
2022-08-18 16:43:51.313 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccount/1 - -
2022-08-18 16:43:51.314 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 16:43:51.315 +02:00 [INF] Route matched with {action = "Index", controller = "BankAccount", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32) on controller myBankAccount.Web.Controllers.BankAccountController (myBankAccount.Web).
2022-08-18 16:43:51.317 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:43:51.336 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId"
FROM "BankAccounts" AS "b"
WHERE "b"."Id" = @__BankAccountId_0
LIMIT 1
2022-08-18 16:43:51.338 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.ViewModels.BankAccountViewModel'.
2022-08-18 16:43:51.339 +02:00 [INF] Executed action myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web) in 23.631ms
2022-08-18 16:43:51.339 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 16:43:51.339 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccount/1 - - - 200 38 application/json;+charset=utf-8 25.6155ms
2022-08-18 16:43:57.729 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/Projects/1 - -
2022-08-18 16:43:57.744 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.ProjectEndpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:43:57.745 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.ProjectEndpoints.GetProjectByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.ProjectEndpoints.GetProjectByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.ProjectEndpoints.GetById (myBankAccount.Web).
2022-08-18 16:43:57.749 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:43:57.757 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Priority", "t0"."Id", "t0"."Description", "t0"."IsDone", "t0"."ProjectId", "t0"."Title"
FROM (
    SELECT "p"."Id", "p"."Name", "p"."Priority"
    FROM "Projects" AS "p"
    WHERE "p"."Id" = @__projectId_0
    LIMIT 1
) AS "t"
LEFT JOIN "ToDoItems" AS "t0" ON "t"."Id" = "t0"."ProjectId"
ORDER BY "t"."Id"
2022-08-18 16:43:57.759 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.ProjectEndpoints.GetProjectByIdResponse'.
2022-08-18 16:43:57.761 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.ProjectEndpoints.GetById.HandleAsync (myBankAccount.Web) in 13.9061ms
2022-08-18 16:43:57.761 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.ProjectEndpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:43:57.761 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/Projects/1 - - - 200 420 application/json;+charset=utf-8 32.1343ms
2022-08-18 16:44:04.276 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 16:44:04.277 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:44:04.277 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 16:44:04.279 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:44:04.281 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 3.7938ms
2022-08-18 16:44:04.282 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:44:04.283 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<BankAccount>.Find' was of type 'BankAccountByIdWithItemsSpec', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.GetByIdAsync[TId](TId id, CancellationToken cancellationToken)
   at myBankAccount.Web.Endpoints.GetById.HandleAsync(GetBankAccountByIdRequest request, CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Endpoints/BankAccountEnpoints/GetById.cs:line 32
   at lambda_method667(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 16:44:04.296 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 500 - text/plain;+charset=utf-8 19.4962ms
2022-08-18 16:46:33.900 +02:00 [INF] Application is shutting down...
2022-08-18 16:47:01.722 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:47:04.081 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:47:04.279 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 16:47:04.708 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 16:47:04.709 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 16:47:04.744 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_BankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "BankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 16:47:04.774 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankOperation" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankOperation" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_BankOperation_BankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "BankStatement" ("Id")
);
2022-08-18 16:47:04.780 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 16:47:04.844 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 16:47:04.866 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankOperation_BankStatementId" ON "BankOperation" ("BankStatementId");
2022-08-18 16:47:04.874 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 16:47:04.942 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:47:05.420 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:47:05.500 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:47:05.503 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:47:05.514 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:47:05.653 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:47:05.657 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:47:05.667 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:47:05.692 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:47:05.885 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:47:05.895 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:47:05.898 +02:00 [INF] Hosting environment: Development
2022-08-18 16:47:05.908 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:47:14.189 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 16:47:14.289 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 16:47:14.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 270.0712ms
2022-08-18 16:47:14.815 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 16:47:15.110 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 294.1446ms
2022-08-18 16:47:22.827 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccount/1 - -
2022-08-18 16:47:22.839 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 16:47:22.988 +02:00 [INF] Route matched with {action = "Index", controller = "BankAccount", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32) on controller myBankAccount.Web.Controllers.BankAccountController (myBankAccount.Web).
2022-08-18 16:47:23.215 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:47:23.857 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId", "b0"."Id"
FROM "BankAccounts" AS "b"
INNER JOIN "BankStatement" AS "b0" ON "b"."statementsId" = "b0"."Id"
WHERE "b"."Id" = @__BankAccountId_0
LIMIT 1
2022-08-18 16:47:23.971 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.ViewModels.BankAccountViewModel'.
2022-08-18 16:47:24.173 +02:00 [INF] Executed action myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web) in 1173.2324ms
2022-08-18 16:47:24.307 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 16:47:24.371 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccount/1 - - - 200 38 application/json;+charset=utf-8 1544.4288ms
2022-08-18 16:47:29.009 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccount/2 - -
2022-08-18 16:47:29.011 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 16:47:29.012 +02:00 [INF] Route matched with {action = "Index", controller = "BankAccount", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32) on controller myBankAccount.Web.Controllers.BankAccountController (myBankAccount.Web).
2022-08-18 16:47:29.016 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:47:29.031 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId", "b0"."Id"
FROM "BankAccounts" AS "b"
INNER JOIN "BankStatement" AS "b0" ON "b"."statementsId" = "b0"."Id"
WHERE "b"."Id" = @__BankAccountId_0
LIMIT 1
2022-08-18 16:47:29.033 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.ViewModels.BankAccountViewModel'.
2022-08-18 16:47:29.034 +02:00 [INF] Executed action myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web) in 19.984ms
2022-08-18 16:47:29.041 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 16:47:29.041 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccount/2 - - - 200 42 application/json;+charset=utf-8 31.9729ms
2022-08-18 16:47:37.545 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 16:47:37.546 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:47:37.574 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 16:47:37.618 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:47:37.658 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 83.4965ms
2022-08-18 16:47:37.661 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:47:37.667 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<BankAccount>.Find' was of type 'BankAccountByIdWithItemsSpec', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.GetByIdAsync[TId](TId id, CancellationToken cancellationToken)
   at myBankAccount.Web.Endpoints.GetById.HandleAsync(GetBankAccountByIdRequest request, CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Endpoints/BankAccountEnpoints/GetById.cs:line 32
   at lambda_method669(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 16:47:37.741 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 500 - text/plain;+charset=utf-8 195.5167ms
2022-08-18 16:47:42.464 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/2 - -
2022-08-18 16:47:42.464 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:47:42.464 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 16:47:42.467 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:47:42.471 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 6.0101ms
2022-08-18 16:47:42.471 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:47:42.472 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<BankAccount>.Find' was of type 'BankAccountByIdWithItemsSpec', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.GetByIdAsync[TId](TId id, CancellationToken cancellationToken)
   at myBankAccount.Web.Endpoints.GetById.HandleAsync(GetBankAccountByIdRequest request, CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Endpoints/BankAccountEnpoints/GetById.cs:line 32
   at lambda_method669(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 16:47:42.488 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/2 - - - 500 - text/plain;+charset=utf-8 24.3958ms
2022-08-18 16:47:48.228 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/4 - -
2022-08-18 16:47:48.228 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:47:48.229 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 16:47:48.232 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:47:48.234 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 2.5009ms
2022-08-18 16:47:48.234 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:47:48.235 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<BankAccount>.Find' was of type 'BankAccountByIdWithItemsSpec', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.GetByIdAsync[TId](TId id, CancellationToken cancellationToken)
   at myBankAccount.Web.Endpoints.GetById.HandleAsync(GetBankAccountByIdRequest request, CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Endpoints/BankAccountEnpoints/GetById.cs:line 32
   at lambda_method669(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 16:47:48.244 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/4 - - - 500 - text/plain;+charset=utf-8 16.4361ms
2022-08-18 16:47:56.909 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/0 - -
2022-08-18 16:47:56.910 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:47:56.910 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 16:47:56.912 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:47:56.914 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 3.0987ms
2022-08-18 16:47:56.914 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:47:56.915 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<BankAccount>.Find' was of type 'BankAccountByIdWithItemsSpec', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.GetByIdAsync[TId](TId id, CancellationToken cancellationToken)
   at myBankAccount.Web.Endpoints.GetById.HandleAsync(GetBankAccountByIdRequest request, CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Endpoints/BankAccountEnpoints/GetById.cs:line 32
   at lambda_method669(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 16:47:56.928 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/0 - - - 500 - text/plain;+charset=utf-8 19.0921ms
2022-08-18 16:49:40.200 +02:00 [INF] Application is shutting down...
2022-08-18 16:50:02.973 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:50:04.978 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:50:05.163 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 16:50:05.413 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 16:50:05.414 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 16:50:05.473 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_BankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "BankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 16:50:05.505 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankOperation" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankOperation" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_BankOperation_BankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "BankStatement" ("Id")
);
2022-08-18 16:50:05.513 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 16:50:05.622 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 16:50:05.623 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankOperation_BankStatementId" ON "BankOperation" ("BankStatementId");
2022-08-18 16:50:05.624 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 16:50:05.667 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:50:06.223 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:50:06.305 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:50:06.309 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:50:06.335 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:50:06.499 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:50:06.544 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:50:06.564 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:50:06.587 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:50:06.842 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:50:06.851 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:50:06.864 +02:00 [INF] Hosting environment: Development
2022-08-18 16:50:06.872 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:50:09.896 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 16:50:10.076 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 16:50:10.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 651.7515ms
2022-08-18 16:50:11.244 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 16:50:11.538 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 294.6214ms
2022-08-18 16:50:17.287 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 16:50:17.300 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:50:17.432 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 16:50:17.541 +02:00 [INF] test {"WhereExpressions":[{"Filter":{"Type":"System.Func`2[myBankAccount.Core.ProjectAggregate.BankAccount,System.Boolean]","NodeType":"Lambda","Parameters":[{"Type":"myBankAccount.Core.ProjectAggregate.BankAccount","NodeType":"Parameter","Name":"bankAccount","IsByRef":false,"CanReduce":false,"$type":"TypedParameterExpression"}],"Name":null,"Body":{"Type":"System.Boolean","NodeType":"Equal","CanReduce":false,"Right":{"Type":"System.Int32","Member":"Int32 BankAccountId","Expression":{"Type":"myBankAccount.Core.ProjectAggregate.Specifications.BankAccountByIdWithItemsSpec+<>c__DisplayClass0_0","NodeType":"Constant","Value":{"$type":"<>c__DisplayClass0_0"},"CanReduce":false,"$type":"ConstantExpression"},"NodeType":"MemberAccess","CanReduce":false,"$type":"FieldExpression"},"Left":{"Type":"System.Int32","Member":"Int32 Id","Expression":{"Type":"myBankAccount.Core.ProjectAggregate.BankAccount","NodeType":"Parameter","Name":"bankAccount","IsByRef":false,"CanReduce":false,"$type":"TypedParameterExpression"},"NodeType":"MemberAccess","CanReduce":false,"$type":"PropertyExpression"},"Method":null,"Conversion":null,"IsLifted":false,"IsLiftedToNull":false,"$type":"LogicalBinaryExpression"},"ReturnType":"System.Boolean","TailCall":false,"CanReduce":false,"$type":"Expression1`1"},"FilterFunc":"System.Func`2[myBankAccount.Core.ProjectAggregate.BankAccount,System.Boolean]","$type":"WhereExpressionInfo`1"}],"OrderExpressions":[],"IncludeExpressions":[{"LambdaExpression":{"Type":"System.Func`2[myBankAccount.Core.ProjectAggregate.BankAccount,myBankAccount.Core.ProjectAggregate.BankStatement]","NodeType":"Lambda","Parameters":[{"Type":"myBankAccount.Core.ProjectAggregate.BankAccount","NodeType":"Parameter","Name":"bankAccount","IsByRef":false,"CanReduce":false,"$type":"TypedParameterExpression"}],"Name":null,"Body":{"Type":"myBankAccount.Core.ProjectAggregate.BankStatement","Member":"myBankAccount.Core.ProjectAggregate.BankStatement statements","Expression":{"Type":"myBankAccount.Core.ProjectAggregate.BankAccount","NodeType":"Parameter","Name":"bankAccount","IsByRef":false,"CanReduce":false,"$type":"TypedParameterExpression"},"NodeType":"MemberAccess","CanReduce":false,"$type":"PropertyExpression"},"ReturnType":"myBankAccount.Core.ProjectAggregate.BankStatement","TailCall":false,"CanReduce":false,"$type":"Expression1`1"},"EntityType":"myBankAccount.Core.ProjectAggregate.BankAccount","PropertyType":"myBankAccount.Core.ProjectAggregate.BankStatement","PreviousPropertyType":null,"Type":"Include","$type":"IncludeExpressionInfo"}],"IncludeStrings":[],"SearchCriterias":[],"Take":null,"Skip":null,"PostProcessingAction":null,"CacheKey":null,"CacheEnabled":false,"AsNoTracking":false,"AsSplitQuery":false,"AsNoTrackingWithIdentityResolution":false,"IgnoreQueryFilters":false,"$type":"BankAccountByIdWithItemsSpec"}
2022-08-18 16:50:17.894 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:50:17.938 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 487.4712ms
2022-08-18 16:50:17.943 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:50:17.948 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<BankAccount>.Find' was of type 'BankAccountByIdWithItemsSpec', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.GetByIdAsync[TId](TId id, CancellationToken cancellationToken)
   at myBankAccount.Web.Endpoints.GetById.HandleAsync(GetBankAccountByIdRequest request, CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Endpoints/BankAccountEnpoints/GetById.cs:line 33
   at lambda_method649(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 16:50:18.246 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 500 - text/plain;+charset=utf-8 959.4784ms
2022-08-18 16:52:05.207 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/Projects/1 - -
2022-08-18 16:52:05.208 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.ProjectEndpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:52:05.227 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.ProjectEndpoints.GetProjectByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.ProjectEndpoints.GetProjectByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.ProjectEndpoints.GetById (myBankAccount.Web).
2022-08-18 16:52:05.270 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:52:06.450 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Priority", "t0"."Id", "t0"."Description", "t0"."IsDone", "t0"."ProjectId", "t0"."Title"
FROM (
    SELECT "p"."Id", "p"."Name", "p"."Priority"
    FROM "Projects" AS "p"
    WHERE "p"."Id" = @__projectId_0
    LIMIT 1
) AS "t"
LEFT JOIN "ToDoItems" AS "t0" ON "t"."Id" = "t0"."ProjectId"
ORDER BY "t"."Id"
2022-08-18 16:52:06.529 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.ProjectEndpoints.GetProjectByIdResponse'.
2022-08-18 16:52:06.809 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.ProjectEndpoints.GetById.HandleAsync (myBankAccount.Web) in 1582.3563ms
2022-08-18 16:52:06.980 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.ProjectEndpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:52:07.013 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/Projects/1 - - - 200 420 application/json;+charset=utf-8 1805.5914ms
2022-08-18 16:56:28.404 +02:00 [INF] Application is shutting down...
2022-08-18 16:56:44.239 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 16:56:46.899 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:56:47.327 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 16:56:47.695 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 16:56:47.803 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 16:56:47.869 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_BankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "BankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 16:56:47.932 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankOperation" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankOperation" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_BankOperation_BankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "BankStatement" ("Id")
);
2022-08-18 16:56:47.932 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 16:56:47.934 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 16:56:47.935 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankOperation_BankStatementId" ON "BankOperation" ("BankStatementId");
2022-08-18 16:56:47.935 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 16:56:48.013 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:56:48.488 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:56:48.566 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:56:48.574 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:56:48.591 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:56:48.774 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:56:48.781 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:56:48.784 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:56:48.792 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 16:56:49.076 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 16:56:49.088 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 16:56:49.098 +02:00 [INF] Hosting environment: Development
2022-08-18 16:56:49.132 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 16:56:51.097 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 16:56:51.256 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 16:56:51.364 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:56:51.422 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 16:56:51.562 +02:00 [INF] test {"WhereExpressions":[{"Filter":{"Type":"System.Func`2[myBankAccount.Core.ProjectAggregate.BankAccount,System.Boolean]","NodeType":"Lambda","Parameters":[{"Type":"myBankAccount.Core.ProjectAggregate.BankAccount","NodeType":"Parameter","Name":"bankAccount","IsByRef":false,"CanReduce":false,"$type":"TypedParameterExpression"}],"Name":null,"Body":{"Type":"System.Boolean","NodeType":"Equal","CanReduce":false,"Right":{"Type":"System.Int32","Member":"Int32 BankAccountId","Expression":{"Type":"myBankAccount.Core.ProjectAggregate.Specifications.BankAccountByIdWithItemsSpec+<>c__DisplayClass0_0","NodeType":"Constant","Value":{"$type":"<>c__DisplayClass0_0"},"CanReduce":false,"$type":"ConstantExpression"},"NodeType":"MemberAccess","CanReduce":false,"$type":"FieldExpression"},"Left":{"Type":"System.Int32","Member":"Int32 Id","Expression":{"Type":"myBankAccount.Core.ProjectAggregate.BankAccount","NodeType":"Parameter","Name":"bankAccount","IsByRef":false,"CanReduce":false,"$type":"TypedParameterExpression"},"NodeType":"MemberAccess","CanReduce":false,"$type":"PropertyExpression"},"Method":null,"Conversion":null,"IsLifted":false,"IsLiftedToNull":false,"$type":"LogicalBinaryExpression"},"ReturnType":"System.Boolean","TailCall":false,"CanReduce":false,"$type":"Expression1`1"},"FilterFunc":"System.Func`2[myBankAccount.Core.ProjectAggregate.BankAccount,System.Boolean]","$type":"WhereExpressionInfo`1"}],"OrderExpressions":[],"IncludeExpressions":[{"LambdaExpression":{"Type":"System.Func`2[myBankAccount.Core.ProjectAggregate.BankAccount,myBankAccount.Core.ProjectAggregate.BankStatement]","NodeType":"Lambda","Parameters":[{"Type":"myBankAccount.Core.ProjectAggregate.BankAccount","NodeType":"Parameter","Name":"bankAccount","IsByRef":false,"CanReduce":false,"$type":"TypedParameterExpression"}],"Name":null,"Body":{"Type":"myBankAccount.Core.ProjectAggregate.BankStatement","Member":"myBankAccount.Core.ProjectAggregate.BankStatement statements","Expression":{"Type":"myBankAccount.Core.ProjectAggregate.BankAccount","NodeType":"Parameter","Name":"bankAccount","IsByRef":false,"CanReduce":false,"$type":"TypedParameterExpression"},"NodeType":"MemberAccess","CanReduce":false,"$type":"PropertyExpression"},"ReturnType":"myBankAccount.Core.ProjectAggregate.BankStatement","TailCall":false,"CanReduce":false,"$type":"Expression1`1"},"EntityType":"myBankAccount.Core.ProjectAggregate.BankAccount","PropertyType":"myBankAccount.Core.ProjectAggregate.BankStatement","PreviousPropertyType":null,"Type":"Include","$type":"IncludeExpressionInfo"}],"IncludeStrings":[],"SearchCriterias":[],"Take":null,"Skip":null,"PostProcessingAction":null,"CacheKey":null,"CacheEnabled":false,"AsNoTracking":false,"AsSplitQuery":false,"AsNoTrackingWithIdentityResolution":false,"IgnoreQueryFilters":false,"$type":"BankAccountByIdWithItemsSpec"}
2022-08-18 16:56:51.699 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 16:56:51.726 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 273.058ms
2022-08-18 16:56:51.728 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 16:56:51.729 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<BankAccount>.Find' was of type 'BankAccountByIdWithItemsSpec', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues, IReadOnlyList`1& keyProperties)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.GetByIdAsync[TId](TId id, CancellationToken cancellationToken)
   at myBankAccount.Web.Endpoints.GetById.HandleAsync(GetBankAccountByIdRequest request, CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Endpoints/BankAccountEnpoints/GetById.cs:line 34
   at lambda_method649(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 16:56:51.826 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 500 - text/plain;+charset=utf-8 743.2697ms
2022-08-18 18:14:16.617 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/api/Projects/1 - -
2022-08-18 18:14:16.645 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Api.ProjectsController.GetById (myBankAccount.Web)'
2022-08-18 18:14:16.657 +02:00 [INF] Route matched with {action = "GetById", controller = "Projects", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller myBankAccount.Web.Api.ProjectsController (myBankAccount.Web).
2022-08-18 18:14:16.674 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 18:14:17.842 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Priority", "t0"."Id", "t0"."Description", "t0"."IsDone", "t0"."ProjectId", "t0"."Title"
FROM (
    SELECT "p"."Id", "p"."Name", "p"."Priority"
    FROM "Projects" AS "p"
    WHERE "p"."Id" = @__projectId_0
    LIMIT 1
) AS "t"
LEFT JOIN "ToDoItems" AS "t0" ON "t"."Id" = "t0"."ProjectId"
ORDER BY "t"."Id"
2022-08-18 18:14:17.945 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.ApiModels.ProjectDTO'.
2022-08-18 18:14:18.309 +02:00 [INF] Executed action myBankAccount.Web.Api.ProjectsController.GetById (myBankAccount.Web) in 1650.9906ms
2022-08-18 18:14:18.314 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Api.ProjectsController.GetById (myBankAccount.Web)'
2022-08-18 18:14:18.415 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/api/Projects/1 - - - 200 420 application/json;+charset=utf-8 1797.7900ms
2022-08-18 18:15:31.790 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccount/1 - -
2022-08-18 18:15:31.792 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 18:15:31.802 +02:00 [INF] Route matched with {action = "Index", controller = "BankAccount", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32) on controller myBankAccount.Web.Controllers.BankAccountController (myBankAccount.Web).
2022-08-18 18:15:31.809 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 18:15:32.035 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId", "b0"."Id"
FROM "BankAccounts" AS "b"
INNER JOIN "BankStatement" AS "b0" ON "b"."statementsId" = "b0"."Id"
WHERE "b"."Id" = @__BankAccountId_0
LIMIT 1
2022-08-18 18:15:32.067 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.ViewModels.BankAccountViewModel'.
2022-08-18 18:15:32.079 +02:00 [INF] Executed action myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web) in 276.8496ms
2022-08-18 18:15:32.135 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 18:15:32.136 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccount/1 - - - 200 38 application/json;+charset=utf-8 345.5576ms
2022-08-18 18:17:04.871 +02:00 [INF] Application is shutting down...
2022-08-18 18:24:51.604 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 18:24:53.646 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 18:24:53.847 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 18:24:54.124 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 18:24:54.125 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 18:24:54.145 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_BankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "BankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 18:24:54.153 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankOperation" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankOperation" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_BankOperation_BankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "BankStatement" ("Id")
);
2022-08-18 18:24:54.155 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 18:24:54.157 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 18:24:54.184 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankOperation_BankStatementId" ON "BankOperation" ("BankStatementId");
2022-08-18 18:24:54.209 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 18:24:54.351 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 18:24:54.924 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:24:55.003 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:24:55.006 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:24:55.017 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:24:55.145 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:24:55.148 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:24:55.154 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:24:55.168 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:24:55.476 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 18:24:55.495 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 18:24:55.509 +02:00 [INF] Hosting environment: Development
2022-08-18 18:24:55.520 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 18:25:02.970 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 18:25:03.067 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 18:25:03.403 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 312.7265ms
2022-08-18 18:25:03.827 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 18:25:04.142 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 314.3132ms
2022-08-18 18:25:24.563 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 18:25:24.571 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 18:25:24.754 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 18:25:25.089 +02:00 [INF] test {"WhereExpressions":[{"Filter":{"Type":"System.Func`2[myBankAccount.Core.ProjectAggregate.BankAccount,System.Boolean]","NodeType":"Lambda","Parameters":[{"Type":"myBankAccount.Core.ProjectAggregate.BankAccount","NodeType":"Parameter","Name":"bankAccount","IsByRef":false,"CanReduce":false,"$type":"TypedParameterExpression"}],"Name":null,"Body":{"Type":"System.Boolean","NodeType":"Equal","CanReduce":false,"Right":{"Type":"System.Int32","Member":"Int32 BankAccountId","Expression":{"Type":"myBankAccount.Core.ProjectAggregate.Specifications.BankAccountByIdWithItemsSpec+<>c__DisplayClass0_0","NodeType":"Constant","Value":{"$type":"<>c__DisplayClass0_0"},"CanReduce":false,"$type":"ConstantExpression"},"NodeType":"MemberAccess","CanReduce":false,"$type":"FieldExpression"},"Left":{"Type":"System.Int32","Member":"Int32 Id","Expression":{"Type":"myBankAccount.Core.ProjectAggregate.BankAccount","NodeType":"Parameter","Name":"bankAccount","IsByRef":false,"CanReduce":false,"$type":"TypedParameterExpression"},"NodeType":"MemberAccess","CanReduce":false,"$type":"PropertyExpression"},"Method":null,"Conversion":null,"IsLifted":false,"IsLiftedToNull":false,"$type":"LogicalBinaryExpression"},"ReturnType":"System.Boolean","TailCall":false,"CanReduce":false,"$type":"Expression1`1"},"FilterFunc":"System.Func`2[myBankAccount.Core.ProjectAggregate.BankAccount,System.Boolean]","$type":"WhereExpressionInfo`1"}],"OrderExpressions":[],"IncludeExpressions":[{"LambdaExpression":{"Type":"System.Func`2[myBankAccount.Core.ProjectAggregate.BankAccount,myBankAccount.Core.ProjectAggregate.BankStatement]","NodeType":"Lambda","Parameters":[{"Type":"myBankAccount.Core.ProjectAggregate.BankAccount","NodeType":"Parameter","Name":"bankAccount","IsByRef":false,"CanReduce":false,"$type":"TypedParameterExpression"}],"Name":null,"Body":{"Type":"myBankAccount.Core.ProjectAggregate.BankStatement","Member":"myBankAccount.Core.ProjectAggregate.BankStatement statements","Expression":{"Type":"myBankAccount.Core.ProjectAggregate.BankAccount","NodeType":"Parameter","Name":"bankAccount","IsByRef":false,"CanReduce":false,"$type":"TypedParameterExpression"},"NodeType":"MemberAccess","CanReduce":false,"$type":"PropertyExpression"},"ReturnType":"myBankAccount.Core.ProjectAggregate.BankStatement","TailCall":false,"CanReduce":false,"$type":"Expression1`1"},"EntityType":"myBankAccount.Core.ProjectAggregate.BankAccount","PropertyType":"myBankAccount.Core.ProjectAggregate.BankStatement","PreviousPropertyType":null,"Type":"Include","$type":"IncludeExpressionInfo"}],"IncludeStrings":[],"SearchCriterias":[],"Take":null,"Skip":null,"PostProcessingAction":null,"CacheKey":null,"CacheEnabled":false,"AsNoTracking":false,"AsSplitQuery":false,"AsNoTrackingWithIdentityResolution":false,"IgnoreQueryFilters":false,"$type":"BankAccountByIdWithItemsSpec"}
2022-08-18 18:25:25.342 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 18:25:25.972 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId", "b0"."Id"
FROM "BankAccounts" AS "b"
INNER JOIN "BankStatement" AS "b0" ON "b"."statementsId" = "b0"."Id"
WHERE "b"."Id" = @__BankAccountId_0
LIMIT 1
2022-08-18 18:25:26.017 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 1215.6528ms
2022-08-18 18:25:26.020 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 18:25:26.023 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Select[TSource,TResult](IEnumerable`1 source, Func`2 selector)
   at myBankAccount.Web.Endpoints.GetById.HandleAsync(GetBankAccountByIdRequest request, CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Endpoints/BankAccountEnpoints/GetById.cs:line 37
   at lambda_method649(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 18:25:26.090 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 500 - text/plain;+charset=utf-8 1526.6064ms
2022-08-18 18:26:30.202 +02:00 [INF] Application is shutting down...
2022-08-18 18:27:25.181 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 18:27:28.008 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 18:27:28.246 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 18:27:28.637 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 18:27:28.684 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 18:27:28.732 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_BankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "BankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 18:27:28.754 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankOperation" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankOperation" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_BankOperation_BankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "BankStatement" ("Id")
);
2022-08-18 18:27:28.786 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 18:27:28.810 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 18:27:28.846 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankOperation_BankStatementId" ON "BankOperation" ("BankStatementId");
2022-08-18 18:27:28.865 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 18:27:28.938 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 18:27:29.493 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:27:29.576 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:27:29.586 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:27:29.597 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:27:29.742 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:27:29.768 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "BankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:27:29.784 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:27:29.817 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:27:30.071 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 18:27:30.085 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 18:27:30.113 +02:00 [INF] Hosting environment: Development
2022-08-18 18:27:30.119 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 18:36:52.812 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 18:36:53.074 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 18:36:53.276 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 18:36:53.430 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 18:36:53.633 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 18:36:54.219 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId", "b0"."Id"
FROM "BankAccounts" AS "b"
INNER JOIN "BankStatement" AS "b0" ON "b"."statementsId" = "b0"."Id"
WHERE "b"."Id" = @__BankAccountId_0
LIMIT 1
2022-08-18 18:36:54.262 +02:00 [INF] test {"Name":"Martin","Balance":0,"statements":{"bankOperations":null,"Id":1,"DomainEvents":[],"$type":"BankStatement"},"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 18:36:54.298 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 850.8464ms
2022-08-18 18:36:54.306 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 18:36:54.314 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Select[TSource,TResult](IEnumerable`1 source, Func`2 selector)
   at myBankAccount.Web.Endpoints.GetById.HandleAsync(GetBankAccountByIdRequest request, CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Endpoints/BankAccountEnpoints/GetById.cs:line 37
   at lambda_method649(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 18:36:54.600 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 500 - text/plain;+charset=utf-8 1790.4155ms
2022-08-18 18:39:57.320 +02:00 [INF] Application is shutting down...
2022-08-18 18:40:39.807 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 18:40:42.122 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 18:40:42.307 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 18:40:42.718 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 18:40:42.751 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 18:40:42.754 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL,
    "statementsId" INTEGER NOT NULL,
    CONSTRAINT "FK_BankAccounts_bankStatement_statementsId" FOREIGN KEY ("statementsId") REFERENCES "bankStatement" ("Id") ON DELETE CASCADE
);
2022-08-18 18:40:42.765 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankOperations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankOperations" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_bankOperations_bankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "bankStatement" ("Id")
);
2022-08-18 18:40:42.807 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 18:40:42.834 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BankAccounts_statementsId" ON "BankAccounts" ("statementsId");
2022-08-18 18:40:42.871 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankStatementId" ON "bankOperations" ("BankStatementId");
2022-08-18 18:40:42.893 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 18:40:42.947 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 18:40:43.454 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:40:43.539 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:40:43.542 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:40:43.567 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:40:43.841 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "bankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:40:43.845 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankStatement"
DEFAULT VALUES;
SELECT "Id"
FROM "bankStatement"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:40:43.874 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:40:43.881 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name", "statementsId")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:40:44.053 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 18:40:44.066 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 18:40:44.082 +02:00 [INF] Hosting environment: Development
2022-08-18 18:40:44.091 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 18:40:47.783 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 18:40:48.039 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 18:40:48.204 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 18:40:48.301 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 18:40:48.516 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 18:40:49.130 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Balance", "b"."Name", "b"."statementsId", "b0"."Id"
FROM "BankAccounts" AS "b"
INNER JOIN "bankStatement" AS "b0" ON "b"."statementsId" = "b0"."Id"
WHERE "b"."Id" = @__BankAccountId_0
LIMIT 1
2022-08-18 18:40:49.170 +02:00 [INF] test {"Name":"Martin","Balance":0,"statements":{"bankOperations":null,"Id":1,"DomainEvents":[],"$type":"BankStatement"},"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 18:40:49.213 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 893.656ms
2022-08-18 18:40:49.216 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 18:40:49.220 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Select[TSource,TResult](IEnumerable`1 source, Func`2 selector)
   at myBankAccount.Web.Endpoints.GetById.HandleAsync(GetBankAccountByIdRequest request, CancellationToken cancellationToken) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Endpoints/BankAccountEnpoints/GetById.cs:line 37
   at lambda_method649(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-18 18:40:49.368 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 500 - text/plain;+charset=utf-8 1592.3197ms
2022-08-18 18:41:08.869 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 18:41:09.009 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 140.0458ms
2022-08-18 18:41:09.920 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 18:41:10.213 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 293.3117ms
2022-08-18 18:46:20.140 +02:00 [INF] Application is shutting down...
2022-08-18 18:46:41.119 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 18:46:44.386 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 18:46:44.599 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 18:46:45.014 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL
);
2022-08-18 18:46:45.034 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 18:46:45.073 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 18:46:45.116 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankOperations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankOperations" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankAccountId" INTEGER NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_bankOperations_BankAccounts_BankAccountId" FOREIGN KEY ("BankAccountId") REFERENCES "BankAccounts" ("Id"),
    CONSTRAINT "FK_bankOperations_bankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "bankStatement" ("Id")
);
2022-08-18 18:46:45.143 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 18:46:45.146 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankAccountId" ON "bankOperations" ("BankAccountId");
2022-08-18 18:46:45.171 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankStatementId" ON "bankOperations" ("BankStatementId");
2022-08-18 18:46:45.220 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 18:46:45.410 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 18:46:46.130 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:46:46.288 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:46:46.315 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:46:46.364 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 18:46:46.499 +02:00 [ERR] An error occurred seeding the DB. Value cannot be null. (Parameter 'source')
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Append[TSource](IEnumerable`1 source, TSource element)
   at myBankAccount.Web.SeedData.PopulateBankAccountTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 83
   at myBankAccount.Web.SeedData.PopulateTestData(AppDbContext dbContext) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 78
   at myBankAccount.Web.SeedData.Initialize(IServiceProvider serviceProvider) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/SeedData.cs:line 67
   at Program.<Main>$(String[] args) in /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/Program.cs:line 95
2022-08-18 18:46:46.805 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 18:46:46.809 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 18:46:46.814 +02:00 [INF] Hosting environment: Development
2022-08-18 18:46:46.819 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 18:48:03.130 +02:00 [INF] Application is shutting down...
2022-08-18 19:00:21.238 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 19:00:22.977 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 19:00:23.153 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 19:00:23.384 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL
);
2022-08-18 19:00:23.385 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 19:00:23.386 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 19:00:23.386 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankOperations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankOperations" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankAccountId" INTEGER NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_bankOperations_BankAccounts_BankAccountId" FOREIGN KEY ("BankAccountId") REFERENCES "BankAccounts" ("Id"),
    CONSTRAINT "FK_bankOperations_bankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "bankStatement" ("Id")
);
2022-08-18 19:00:23.388 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 19:00:23.388 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankAccountId" ON "bankOperations" ("BankAccountId");
2022-08-18 19:00:23.390 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankStatementId" ON "bankOperations" ("BankStatementId");
2022-08-18 19:00:23.390 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 19:00:23.453 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 19:00:23.995 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 19:00:24.072 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 19:00:24.076 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 19:00:24.093 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 19:00:24.211 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 19:00:24.218 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 19:00:24.346 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 19:00:24.357 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 19:00:24.360 +02:00 [INF] Hosting environment: Development
2022-08-18 19:00:24.375 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 19:00:29.256 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 19:00:29.344 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 19:00:29.549 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 297.0323ms
2022-08-18 19:00:29.910 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 19:00:30.204 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 294.7265ms
2022-08-18 19:00:36.506 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccount/1 - -
2022-08-18 19:00:36.516 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 19:00:36.616 +02:00 [INF] Route matched with {action = "Index", controller = "BankAccount", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32) on controller myBankAccount.Web.Controllers.BankAccountController (myBankAccount.Web).
2022-08-18 19:00:36.843 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 19:00:37.611 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."BankStatementId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 19:00:37.655 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.ViewModels.BankAccountViewModel'.
2022-08-18 19:00:37.815 +02:00 [INF] Executed action myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web) in 1168.4256ms
2022-08-18 19:00:37.818 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 19:00:37.822 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccount/1 - - - 200 38 application/json;+charset=utf-8 1315.2149ms
2022-08-18 19:00:45.855 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 19:00:45.855 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 19:00:45.872 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 19:00:45.931 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 19:00:45.940 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."BankStatementId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 19:00:45.967 +02:00 [INF] test {"Name":"Martin","Balance":0,"bankOperations":[],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 19:00:45.987 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 19:00:46.049 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 170.0863ms
2022-08-18 19:00:46.055 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 19:00:46.107 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 56 application/json;+charset=utf-8 252.3941ms
2022-08-18 19:01:33.171 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 19:01:33.172 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 19:01:33.172 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 19:01:33.182 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 19:01:33.184 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."BankStatementId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 19:01:33.185 +02:00 [INF] test {"Name":"Martin","Balance":0,"bankOperations":[],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 19:01:33.186 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 19:01:33.188 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 13.9162ms
2022-08-18 19:01:33.188 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 19:01:33.189 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 56 application/json;+charset=utf-8 17.5885ms
2022-08-18 21:13:03.192 +02:00 [INF] Application is shutting down...
2022-08-18 21:13:50.577 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 21:13:56.764 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:13:57.363 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 21:13:58.375 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL
);
2022-08-18 21:13:58.387 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankStatement" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankStatement" PRIMARY KEY AUTOINCREMENT
);
2022-08-18 21:13:58.411 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 21:13:58.447 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankOperations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankOperations" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankAccountId" INTEGER NULL,
    "BankStatementId" INTEGER NULL,
    CONSTRAINT "FK_bankOperations_BankAccounts_BankAccountId" FOREIGN KEY ("BankAccountId") REFERENCES "BankAccounts" ("Id"),
    CONSTRAINT "FK_bankOperations_bankStatement_BankStatementId" FOREIGN KEY ("BankStatementId") REFERENCES "bankStatement" ("Id")
);
2022-08-18 21:13:58.459 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 21:13:58.470 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankAccountId" ON "bankOperations" ("BankAccountId");
2022-08-18 21:13:58.471 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankStatementId" ON "bankOperations" ("BankStatementId");
2022-08-18 21:13:58.481 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 21:13:58.604 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:14:00.188 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:14:00.403 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:14:00.419 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:14:00.432 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:14:00.718 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:14:00.757 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:14:01.044 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 21:14:01.064 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 21:14:01.077 +02:00 [INF] Hosting environment: Development
2022-08-18 21:14:01.095 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 21:21:07.293 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 21:21:07.446 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 21:21:07.899 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 597.9292ms
2022-08-18 21:21:07.979 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/swagger-ui-bundle.js - -
2022-08-18 21:21:08.074 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-18 21:21:08.081 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 101.4102ms
2022-08-18 21:21:08.631 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 21:21:09.036 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 405.3824ms
2022-08-18 21:21:13.861 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccount/1 - -
2022-08-18 21:21:13.875 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 21:21:14.070 +02:00 [INF] Route matched with {action = "Index", controller = "BankAccount", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32) on controller myBankAccount.Web.Controllers.BankAccountController (myBankAccount.Web).
2022-08-18 21:21:14.566 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:21:15.316 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."BankStatementId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 21:21:15.384 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.ViewModels.BankAccountViewModel'.
2022-08-18 21:21:15.719 +02:00 [INF] Executed action myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web) in 1625.1491ms
2022-08-18 21:21:15.898 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 21:21:15.914 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccount/1 - - - 200 38 application/json;+charset=utf-8 2052.7626ms
2022-08-18 21:21:25.513 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 21:21:25.513 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:21:25.527 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 21:21:25.548 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:21:25.584 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."BankStatementId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 21:21:25.620 +02:00 [INF] test {"Name":"Martin","Balance":0,"bankOperations":[],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 21:21:25.691 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 21:21:25.750 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 222.9859ms
2022-08-18 21:21:25.817 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:21:25.818 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 56 application/json;+charset=utf-8 305.3096ms
2022-08-18 21:27:49.145 +02:00 [INF] Application is shutting down...
2022-08-18 21:28:54.893 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 21:28:56.854 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:28:57.068 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 21:28:57.688 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL
);
2022-08-18 21:28:57.705 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 21:28:57.722 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankOperations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankOperations" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankAccountId" INTEGER NULL,
    CONSTRAINT "FK_bankOperations_BankAccounts_BankAccountId" FOREIGN KEY ("BankAccountId") REFERENCES "BankAccounts" ("Id")
);
2022-08-18 21:28:57.728 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 21:28:57.735 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankAccountId" ON "bankOperations" ("BankAccountId");
2022-08-18 21:28:57.738 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 21:28:57.784 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:28:58.229 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:28:58.479 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:28:58.514 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:28:58.525 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:28:58.745 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:28:58.762 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:28:58.765 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:28:58.775 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:28:58.782 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:28:58.800 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:28:59.662 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 21:28:59.673 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 21:28:59.679 +02:00 [INF] Hosting environment: Development
2022-08-18 21:28:59.682 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 21:29:50.634 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 21:29:50.799 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 21:29:50.898 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:29:51.168 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 21:29:51.335 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:29:52.003 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 21:29:52.085 +02:00 [INF] test {"Name":"Martin","Balance":0,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T21:28:57.7590410","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T21:28:57.7591320","Id":2,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 21:29:52.219 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 21:29:52.624 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 1434.0682ms
2022-08-18 21:29:52.689 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:29:52.749 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 56 application/json;+charset=utf-8 2126.6253ms
2022-08-18 21:30:50.383 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 21:30:50.620 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 237.1945ms
2022-08-18 21:30:51.030 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 21:30:51.277 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 247.5276ms
2022-08-18 21:31:00.469 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 21:31:00.470 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:31:00.471 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 21:31:00.474 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:31:00.483 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 21:31:00.504 +02:00 [INF] test {"Name":"Martin","Balance":0,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T21:28:57.7590410","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T21:28:57.7591320","Id":2,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 21:31:00.549 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 21:31:00.557 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 86.3033ms
2022-08-18 21:31:00.566 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:31:00.568 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 56 application/json;+charset=utf-8 98.5758ms
2022-08-18 21:32:26.503 +02:00 [INF] Application is shutting down...
2022-08-18 21:35:01.551 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 21:35:03.255 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:35:03.437 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 21:35:03.716 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL
);
2022-08-18 21:35:03.717 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 21:35:03.754 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankOperations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankOperations" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankAccountId" INTEGER NULL,
    CONSTRAINT "FK_bankOperations_BankAccounts_BankAccountId" FOREIGN KEY ("BankAccountId") REFERENCES "BankAccounts" ("Id")
);
2022-08-18 21:35:03.796 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 21:35:03.800 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankAccountId" ON "bankOperations" ("BankAccountId");
2022-08-18 21:35:03.810 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 21:35:03.912 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:35:04.676 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:35:04.760 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:35:04.770 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:35:04.783 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:35:04.953 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:35:04.964 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:35:04.982 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:35:04.998 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:35:05.027 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:35:05.053 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:35:05.244 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 21:35:05.254 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 21:35:05.254 +02:00 [INF] Hosting environment: Development
2022-08-18 21:35:05.259 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 21:35:09.766 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 21:35:09.857 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 21:35:10.256 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 498.8745ms
2022-08-18 21:35:10.627 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 21:35:10.892 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 265.3721ms
2022-08-18 21:35:14.641 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccount/1 - -
2022-08-18 21:35:14.653 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 21:35:14.844 +02:00 [INF] Route matched with {action = "Index", controller = "BankAccount", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Int32) on controller myBankAccount.Web.Controllers.BankAccountController (myBankAccount.Web).
2022-08-18 21:35:15.229 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:35:16.072 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 21:35:16.127 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.ViewModels.BankAccountViewModel'.
2022-08-18 21:35:16.380 +02:00 [INF] Executed action myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web) in 1520.4959ms
2022-08-18 21:35:16.469 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Controllers.BankAccountController.Index (myBankAccount.Web)'
2022-08-18 21:35:16.631 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccount/1 - - - 200 38 application/json;+charset=utf-8 1990.0116ms
2022-08-18 21:35:23.436 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 21:35:23.437 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:35:23.519 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 21:35:23.604 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:35:23.627 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 21:35:23.716 +02:00 [INF] test {"Name":"Martin","Balance":0,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T21:35:03.8694460","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T21:35:03.8695310","Id":2,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 21:35:23.773 +02:00 [INF] test {"Id":0,"Name":null,"Balance":0,"bankOperations":null,"$type":"GetBankAccountByIdResponse"}
2022-08-18 21:35:23.780 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 21:35:23.861 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 335.7343ms
2022-08-18 21:35:23.865 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:35:23.899 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 56 application/json;+charset=utf-8 460.6590ms
2022-08-18 21:35:43.857 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/Projects/1 - -
2022-08-18 21:35:43.859 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.ProjectEndpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:35:43.866 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.ProjectEndpoints.GetProjectByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.ProjectEndpoints.GetProjectByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.ProjectEndpoints.GetById (myBankAccount.Web).
2022-08-18 21:35:43.884 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:35:43.922 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Name", "t"."Priority", "t0"."Id", "t0"."Description", "t0"."IsDone", "t0"."ProjectId", "t0"."Title"
FROM (
    SELECT "p"."Id", "p"."Name", "p"."Priority"
    FROM "Projects" AS "p"
    WHERE "p"."Id" = @__projectId_0
    LIMIT 1
) AS "t"
LEFT JOIN "ToDoItems" AS "t0" ON "t"."Id" = "t0"."ProjectId"
ORDER BY "t"."Id"
2022-08-18 21:35:43.944 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.ProjectEndpoints.GetProjectByIdResponse'.
2022-08-18 21:35:43.970 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.ProjectEndpoints.GetById.HandleAsync (myBankAccount.Web) in 98.1048ms
2022-08-18 21:35:43.970 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.ProjectEndpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:35:43.970 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/Projects/1 - - - 200 420 application/json;+charset=utf-8 112.7784ms
2022-08-18 21:39:10.760 +02:00 [INF] Application is shutting down...
2022-08-18 21:39:51.881 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 21:39:53.888 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:39:54.337 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 21:39:54.631 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL
);
2022-08-18 21:39:54.632 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 21:39:54.652 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankOperations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankOperations" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankAccountId" INTEGER NULL,
    CONSTRAINT "FK_bankOperations_BankAccounts_BankAccountId" FOREIGN KEY ("BankAccountId") REFERENCES "BankAccounts" ("Id")
);
2022-08-18 21:39:54.670 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 21:39:54.679 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankAccountId" ON "bankOperations" ("BankAccountId");
2022-08-18 21:39:54.680 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 21:39:54.776 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:39:55.164 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:39:55.380 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:39:55.391 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:39:55.400 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:39:55.623 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:39:55.634 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:39:55.638 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:39:55.640 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:39:55.643 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:39:55.649 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 21:39:55.851 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 21:39:55.869 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 21:39:55.872 +02:00 [INF] Hosting environment: Development
2022-08-18 21:39:55.902 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 21:40:06.528 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 21:40:06.632 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 21:40:06.863 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 329.7407ms
2022-08-18 21:40:07.144 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 21:40:07.556 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 411.5092ms
2022-08-18 21:40:14.883 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 21:40:14.921 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:40:15.012 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 21:40:15.273 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:40:16.184 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 21:40:16.244 +02:00 [INF] test {"Name":"Martin","Balance":0,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T21:39:54.7274870","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T21:39:54.7275710","Id":2,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 21:40:16.348 +02:00 [INF] test {"Id":1,"Name":"Martin","Balance":0,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T21:39:54.7274870","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T21:39:54.7275710","$type":"BankOperationRecord"}],"$type":"GetBankAccountByIdResponse"}
2022-08-18 21:40:16.397 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 21:40:16.777 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 1752.3167ms
2022-08-18 21:40:17.001 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:40:17.022 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 220 application/json;+charset=utf-8 2139.0463ms
2022-08-18 21:56:23.688 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 21:56:23.691 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:56:23.691 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 21:56:23.697 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 21:56:23.711 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 21:56:23.713 +02:00 [INF] test {"Name":"Martin","Balance":0,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T21:39:54.7274870","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T21:39:54.7275710","Id":2,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 21:56:23.721 +02:00 [INF] test {"Id":1,"Name":"Martin","Balance":0,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T21:39:54.7274870","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T21:39:54.7275710","$type":"BankOperationRecord"}],"$type":"GetBankAccountByIdResponse"}
2022-08-18 21:56:23.727 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 21:56:23.730 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 38.1851ms
2022-08-18 21:56:23.730 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 21:56:23.731 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 220 application/json;+charset=utf-8 42.4013ms
2022-08-18 22:23:03.585 +02:00 [INF] Application is shutting down...
2022-08-18 22:28:06.010 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 22:28:07.904 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:28:08.158 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 22:28:08.465 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL
);
2022-08-18 22:28:08.466 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 22:28:08.466 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankOperations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankOperations" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankAccountId" INTEGER NULL,
    CONSTRAINT "FK_bankOperations_BankAccounts_BankAccountId" FOREIGN KEY ("BankAccountId") REFERENCES "BankAccounts" ("Id")
);
2022-08-18 22:28:08.467 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 22:28:08.467 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankAccountId" ON "bankOperations" ("BankAccountId");
2022-08-18 22:28:08.468 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 22:28:08.529 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:28:09.183 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:28:09.336 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:28:09.339 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:28:09.351 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:28:09.519 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:28:09.525 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:28:09.540 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:28:09.566 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:28:09.580 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:28:09.593 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:28:09.800 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 22:28:09.833 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 22:28:09.848 +02:00 [INF] Hosting environment: Development
2022-08-18 22:28:09.865 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 22:28:19.575 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 22:28:19.672 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 22:28:19.850 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 283.2000ms
2022-08-18 22:28:20.303 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 22:28:20.561 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 258.6010ms
2022-08-18 22:28:42.279 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 62
2022-08-18 22:28:42.289 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:28:42.381 +02:00 [INF] Route matched with {action = "Handle", controller = "Create", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] HandleAsync(myBankAccount.Web.Endpoints.BankAccountEnpoints.CreateBankOperationRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.BankAccountEnpoints.Create (myBankAccount.Web).
2022-08-18 22:28:42.770 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:28:43.743 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:28:43.792 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BankAccounts" SET "Balance" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-08-18 22:28:43.825 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2022-08-18 22:28:43.937 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web) in 1542.1418ms
2022-08-18 22:28:43.950 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:28:44.018 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 62 - 200 5 application/json;+charset=utf-8 1739.0919ms
2022-08-18 22:28:57.651 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 22:28:57.653 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:28:57.665 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 22:28:57.687 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:28:57.817 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:28:57.888 +02:00 [INF] test {"Name":"Martin","Balance":0,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T22:28:08.4900930","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T22:28:08.4901750","Id":2,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 22:28:58.003 +02:00 [INF] test {"Id":1,"Name":"Martin","Balance":0,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T22:28:08.4900930","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T22:28:08.4901750","$type":"BankOperationRecord"}],"$type":"GetBankAccountByIdResponse"}
2022-08-18 22:28:58.027 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 22:28:58.173 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 507.6832ms
2022-08-18 22:28:58.174 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:28:58.174 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 220 application/json;+charset=utf-8 523.1893ms
2022-08-18 22:29:51.580 +02:00 [INF] Application is shutting down...
2022-08-18 22:34:43.122 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 22:34:45.279 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:34:45.459 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 22:34:45.715 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL
);
2022-08-18 22:34:45.716 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 22:34:45.731 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankOperations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankOperations" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankAccountId" INTEGER NULL,
    CONSTRAINT "FK_bankOperations_BankAccounts_BankAccountId" FOREIGN KEY ("BankAccountId") REFERENCES "BankAccounts" ("Id")
);
2022-08-18 22:34:45.761 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 22:34:45.767 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankAccountId" ON "bankOperations" ("BankAccountId");
2022-08-18 22:34:45.803 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 22:34:45.936 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:34:46.524 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:34:46.617 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:34:46.621 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:34:46.649 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:34:46.796 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:34:46.801 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:34:46.822 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:34:46.838 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:34:46.882 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:34:46.922 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:34:47.231 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 22:34:47.243 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 22:34:47.244 +02:00 [INF] Hosting environment: Development
2022-08-18 22:34:47.244 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 22:34:50.116 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 22:34:50.208 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 22:34:50.455 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 344.0632ms
2022-08-18 22:34:50.736 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 22:34:51.012 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 275.8287ms
2022-08-18 22:35:14.262 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 62
2022-08-18 22:35:14.269 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:35:14.366 +02:00 [INF] Route matched with {action = "Handle", controller = "Create", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] HandleAsync(myBankAccount.Web.Endpoints.BankAccountEnpoints.CreateBankOperationRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.BankAccountEnpoints.Create (myBankAccount.Web).
2022-08-18 22:35:14.863 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:35:16.029 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:35:16.088 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BankAccounts" SET "Balance" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-08-18 22:35:16.092 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:35:16.151 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2022-08-18 22:35:16.258 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web) in 1861.684ms
2022-08-18 22:35:16.353 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:35:16.408 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 62 - 200 4 application/json;+charset=utf-8 2146.3531ms
2022-08-18 22:35:30.389 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 22:35:30.390 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:35:30.404 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 22:35:30.503 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:35:30.531 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:35:30.640 +02:00 [INF] test {"Name":"Martin","Balance":100,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T22:34:45.8914380","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T22:34:45.8915560","Id":2,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Deposit","Amount":100,"DateOperation":"2022-08-18T22:35:16.0641510","Id":5,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 22:35:30.707 +02:00 [INF] test {"Id":1,"Name":"Martin","Balance":100,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T22:34:45.8914380","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T22:34:45.8915560","$type":"BankOperationRecord"},{"Type":"Deposit","Amount":100,"DateOperation":"2022-08-18T22:35:16.0641510","$type":"BankOperationRecord"}],"$type":"GetBankAccountByIdResponse"}
2022-08-18 22:35:30.731 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 22:35:30.924 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 518.8609ms
2022-08-18 22:35:30.967 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:35:30.968 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 301 application/json;+charset=utf-8 578.8011ms
2022-08-18 22:36:16.614 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 63
2022-08-18 22:36:16.615 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:36:16.615 +02:00 [INF] Route matched with {action = "Handle", controller = "Create", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] HandleAsync(myBankAccount.Web.Endpoints.BankAccountEnpoints.CreateBankOperationRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.BankAccountEnpoints.Create (myBankAccount.Web).
2022-08-18 22:36:16.619 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:36:16.621 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:36:16.625 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BankAccounts" SET "Balance" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-08-18 22:36:16.637 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:36:16.639 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2022-08-18 22:36:16.639 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web) in 23.2377ms
2022-08-18 22:36:16.639 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:36:16.640 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 63 - 200 4 application/json;+charset=utf-8 25.6211ms
2022-08-18 22:36:21.558 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 22:36:21.559 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:36:21.559 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 22:36:21.568 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:36:21.570 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:36:21.573 +02:00 [INF] test {"Name":"Martin","Balance":3100,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T22:34:45.8914380","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T22:34:45.8915560","Id":2,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Deposit","Amount":100,"DateOperation":"2022-08-18T22:35:16.0641510","Id":5,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Deposit","Amount":3000,"DateOperation":"2022-08-18T22:36:16.6228850","Id":6,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 22:36:21.585 +02:00 [INF] test {"Id":1,"Name":"Martin","Balance":3100,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T22:34:45.8914380","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T22:34:45.8915560","$type":"BankOperationRecord"},{"Type":"Deposit","Amount":100,"DateOperation":"2022-08-18T22:35:16.0641510","$type":"BankOperationRecord"},{"Type":"Deposit","Amount":3000,"DateOperation":"2022-08-18T22:36:16.6228850","$type":"BankOperationRecord"}],"$type":"GetBankAccountByIdResponse"}
2022-08-18 22:36:21.592 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 22:36:21.593 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 27.2448ms
2022-08-18 22:36:21.593 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:36:21.594 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 382 application/json;+charset=utf-8 35.9318ms
2022-08-18 22:36:40.490 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 66
2022-08-18 22:36:40.490 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:36:40.491 +02:00 [INF] Route matched with {action = "Handle", controller = "Create", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] HandleAsync(myBankAccount.Web.Endpoints.BankAccountEnpoints.CreateBankOperationRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.BankAccountEnpoints.Create (myBankAccount.Web).
2022-08-18 22:36:40.492 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:36:40.515 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:36:40.519 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BankAccounts" SET "Balance" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-08-18 22:36:40.520 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:36:40.522 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2022-08-18 22:36:40.522 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web) in 31.6615ms
2022-08-18 22:36:40.523 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:36:40.523 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 66 - 200 5 application/json;+charset=utf-8 33.5306ms
2022-08-18 22:36:48.931 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 66
2022-08-18 22:36:48.931 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:36:48.931 +02:00 [INF] Route matched with {action = "Handle", controller = "Create", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] HandleAsync(myBankAccount.Web.Endpoints.BankAccountEnpoints.CreateBankOperationRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.BankAccountEnpoints.Create (myBankAccount.Web).
2022-08-18 22:36:48.934 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:36:48.935 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:36:48.938 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BankAccounts" SET "Balance" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-08-18 22:36:48.940 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "Type")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:36:48.951 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2022-08-18 22:36:48.952 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web) in 19.9322ms
2022-08-18 22:36:48.952 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:36:48.953 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 66 - 200 4 application/json;+charset=utf-8 23.1910ms
2022-08-18 22:36:53.622 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 22:36:53.635 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:36:53.635 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 22:36:53.636 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:36:53.638 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:36:53.640 +02:00 [INF] test {"Name":"Martin","Balance":2100,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T22:34:45.8914380","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T22:34:45.8915560","Id":2,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Deposit","Amount":100,"DateOperation":"2022-08-18T22:35:16.0641510","Id":5,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Deposit","Amount":3000,"DateOperation":"2022-08-18T22:36:16.6228850","Id":6,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":4000,"DateOperation":"2022-08-18T22:36:40.5172920","Id":7,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":1000,"DateOperation":"2022-08-18T22:36:48.9365380","Id":8,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 22:36:53.646 +02:00 [INF] test {"Id":1,"Name":"Martin","Balance":2100,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T22:34:45.8914380","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T22:34:45.8915560","$type":"BankOperationRecord"},{"Type":"Deposit","Amount":100,"DateOperation":"2022-08-18T22:35:16.0641510","$type":"BankOperationRecord"},{"Type":"Deposit","Amount":3000,"DateOperation":"2022-08-18T22:36:16.6228850","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":4000,"DateOperation":"2022-08-18T22:36:40.5172920","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":1000,"DateOperation":"2022-08-18T22:36:48.9365380","$type":"BankOperationRecord"}],"$type":"GetBankAccountByIdResponse"}
2022-08-18 22:36:53.654 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 22:36:53.657 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 21.2439ms
2022-08-18 22:36:53.657 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:36:53.657 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 548 application/json;+charset=utf-8 35.5217ms
2022-08-18 22:39:21.411 +02:00 [INF] Application is shutting down...
2022-08-18 22:39:39.387 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 22:39:41.042 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:39:41.243 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 22:39:41.634 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL
);
2022-08-18 22:39:41.635 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 22:39:41.688 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankOperations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankOperations" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "OperationSuccess" INTEGER NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankAccountId" INTEGER NULL,
    CONSTRAINT "FK_bankOperations_BankAccounts_BankAccountId" FOREIGN KEY ("BankAccountId") REFERENCES "BankAccounts" ("Id")
);
2022-08-18 22:39:41.719 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 22:39:41.766 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankAccountId" ON "bankOperations" ("BankAccountId");
2022-08-18 22:39:41.790 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 22:39:41.885 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:39:42.460 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:39:42.565 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:39:42.574 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:39:42.605 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:39:42.780 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:39:42.805 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:39:42.847 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = Boolean), @p6='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p2, @p3, @p4, @p5, @p6);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:39:42.853 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:39:42.868 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:39:42.888 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:39:43.162 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 22:39:43.179 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 22:39:43.189 +02:00 [INF] Hosting environment: Development
2022-08-18 22:39:43.195 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 22:39:49.694 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 22:39:49.781 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 22:39:49.956 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 266.9241ms
2022-08-18 22:39:50.298 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 22:39:50.552 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 253.9967ms
2022-08-18 22:40:15.767 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 63
2022-08-18 22:40:15.777 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:40:15.871 +02:00 [INF] Route matched with {action = "Handle", controller = "Create", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] HandleAsync(myBankAccount.Web.Endpoints.BankAccountEnpoints.CreateBankOperationRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.BankAccountEnpoints.Create (myBankAccount.Web).
2022-08-18 22:40:16.569 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:40:17.301 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."OperationSuccess", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:40:17.362 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BankAccounts" SET "Balance" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-08-18 22:40:17.368 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:40:17.395 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2022-08-18 22:40:17.499 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web) in 1573.7425ms
2022-08-18 22:40:17.543 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:40:17.623 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 63 - 200 4 application/json;+charset=utf-8 1856.0109ms
2022-08-18 22:40:27.639 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 66
2022-08-18 22:40:27.639 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:40:27.640 +02:00 [INF] Route matched with {action = "Handle", controller = "Create", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] HandleAsync(myBankAccount.Web.Endpoints.BankAccountEnpoints.CreateBankOperationRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.BankAccountEnpoints.Create (myBankAccount.Web).
2022-08-18 22:40:27.644 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:40:27.651 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."OperationSuccess", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:40:27.662 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BankAccounts" SET "Balance" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-08-18 22:40:27.704 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:40:27.725 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2022-08-18 22:40:27.727 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web) in 87.3613ms
2022-08-18 22:40:27.728 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:40:27.736 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 66 - 200 5 application/json;+charset=utf-8 96.6598ms
2022-08-18 22:40:37.940 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 22:40:37.941 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:40:37.959 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 22:40:37.996 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:40:37.997 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BankAccountId", "b0"."DateOperation", "b0"."OperationSuccess", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:40:38.035 +02:00 [INF] test {"Name":"Martin","Balance":1000,"BankOperations":[{"Type":"Desposit","Amount":2000,"OperationSuccess":false,"DateOperation":"2022-08-17T22:39:41.8197840","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"OperationSuccess":false,"DateOperation":"2022-08-18T22:39:41.8198720","Id":2,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Deposit","Amount":1000,"OperationSuccess":true,"DateOperation":"2022-08-18T22:40:17.3330340","Id":5,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":2000,"OperationSuccess":false,"DateOperation":"2022-08-18T22:40:27.6530470","Id":6,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 22:40:38.063 +02:00 [INF] test {"Id":1,"Name":"Martin","Balance":1000,"BankOperations":[{"Type":"Desposit","Amount":2000,"DateOperation":"2022-08-17T22:39:41.8197840","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":100,"DateOperation":"2022-08-18T22:39:41.8198720","$type":"BankOperationRecord"},{"Type":"Deposit","Amount":1000,"DateOperation":"2022-08-18T22:40:17.3330340","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":2000,"DateOperation":"2022-08-18T22:40:27.6530470","$type":"BankOperationRecord"}],"$type":"GetBankAccountByIdResponse"}
2022-08-18 22:40:38.065 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 22:40:38.261 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 301.2832ms
2022-08-18 22:40:38.261 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:40:38.262 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 386 application/json;+charset=utf-8 322.0458ms
2022-08-18 22:41:46.959 +02:00 [INF] Application is shutting down...
2022-08-18 22:42:03.117 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 22:42:04.730 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:42:05.004 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 22:42:05.265 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL
);
2022-08-18 22:42:05.267 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 22:42:05.276 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankOperations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankOperations" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "OperationSuccess" INTEGER NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankAccountId" INTEGER NULL,
    CONSTRAINT "FK_bankOperations_BankAccounts_BankAccountId" FOREIGN KEY ("BankAccountId") REFERENCES "BankAccounts" ("Id")
);
2022-08-18 22:42:05.294 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 22:42:05.311 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankAccountId" ON "bankOperations" ("BankAccountId");
2022-08-18 22:42:05.349 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 22:42:05.443 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:42:05.993 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:42:06.096 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:42:06.105 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:42:06.128 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:42:06.259 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:42:06.264 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:42:06.291 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = Boolean), @p6='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p2, @p3, @p4, @p5, @p6);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:42:06.316 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:42:06.340 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:42:06.369 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:42:06.564 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 22:42:06.576 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 22:42:06.579 +02:00 [INF] Hosting environment: Development
2022-08-18 22:42:06.591 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 22:44:57.638 +02:00 [INF] Application is shutting down...
2022-08-18 22:45:14.145 +02:00 [INF] User profile is available. Using '/Users/Luke/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-08-18 22:45:16.136 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:45:16.386 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2022-08-18 22:45:16.682 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BankAccounts" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_BankAccounts" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Balance" REAL NOT NULL
);
2022-08-18 22:45:16.682 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Priority" INTEGER NOT NULL
);
2022-08-18 22:45:16.694 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "bankOperations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_bankOperations" PRIMARY KEY AUTOINCREMENT,
    "Type" TEXT NOT NULL,
    "Amount" REAL NOT NULL,
    "BalanceBeforeOperation" REAL NOT NULL,
    "BalanceAfterOperation" REAL NOT NULL,
    "OperationSuccess" INTEGER NOT NULL,
    "DateOperation" TEXT NOT NULL,
    "BankAccountId" INTEGER NULL,
    CONSTRAINT "FK_bankOperations_BankAccounts_BankAccountId" FOREIGN KEY ("BankAccountId") REFERENCES "BankAccounts" ("Id")
);
2022-08-18 22:45:16.825 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ToDoItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ToDoItems" PRIMARY KEY AUTOINCREMENT,
    "Title" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "IsDone" INTEGER NOT NULL,
    "ProjectId" INTEGER NULL,
    CONSTRAINT "FK_ToDoItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id")
);
2022-08-18 22:45:16.835 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_bankOperations_BankAccountId" ON "bankOperations" ("BankAccountId");
2022-08-18 22:45:16.931 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ToDoItems_ProjectId" ON "ToDoItems" ("ProjectId");
2022-08-18 22:45:17.172 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:45:17.893 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 12), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("Name", "Priority")
VALUES (@p0, @p1);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:45:17.975 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (Size = 31), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p2, @p3, @p4, @p5);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:45:17.979 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 81), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:45:17.993 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 59), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ToDoItems" ("Description", "IsDone", "ProjectId", "Title")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "ToDoItems"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:45:18.649 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:45:18.715 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BankAccounts" ("Balance", "Name")
VALUES (@p0, @p1);
SELECT "Id"
FROM "BankAccounts"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:45:18.743 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Double), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?' (DbType = Boolean), @p8='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BalanceAfterOperation", "BalanceBeforeOperation", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:45:18.794 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = Boolean), @p6='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BalanceAfterOperation", "BalanceBeforeOperation", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:45:18.851 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = Boolean), @p6='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BalanceAfterOperation", "BalanceBeforeOperation", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:45:18.857 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = Boolean), @p6='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BalanceAfterOperation", "BalanceBeforeOperation", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:45:19.107 +02:00 [INF] Now listening on: http://localhost:57679
2022-08-18 22:45:19.133 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-18 22:45:19.143 +02:00 [INF] Hosting environment: Development
2022-08-18 22:45:19.144 +02:00 [INF] Content root path: /Users/Luke/Documents/workspace/CleanArchitecture_Sample/CleanArchitecture_sample/src/myBankAccount/src/myBankAccount.Web/
2022-08-18 22:45:21.762 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/index.html - -
2022-08-18 22:45:21.858 +02:00 [WRN] Failed to determine the https port for redirect.
2022-08-18 22:45:22.023 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/index.html - - - 200 - text/html;charset=utf-8 269.1510ms
2022-08-18 22:45:22.475 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - -
2022-08-18 22:45:22.752 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 277.5731ms
2022-08-18 22:45:30.674 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 22:45:30.682 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:45:30.789 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 22:45:31.139 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:45:31.861 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BalanceAfterOperation", "b0"."BalanceBeforeOperation", "b0"."BankAccountId", "b0"."DateOperation", "b0"."OperationSuccess", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:45:31.935 +02:00 [INF] test {"Name":"Martin","Balance":0,"BankOperations":[{"Type":"Desposit","Amount":2000,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-17T22:45:16.9599380","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-18T22:45:16.9600500","Id":2,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 22:45:32.108 +02:00 [INF] test {"Id":1,"Name":"Martin","Balance":0,"BankOperations":[{"Type":"Desposit","Amount":2000,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-17T22:45:16.9599380","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":100,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-18T22:45:16.9600500","$type":"BankOperationRecord"}],"$type":"GetBankAccountByIdResponse"}
2022-08-18 22:45:32.181 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 22:45:32.411 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 1583.0218ms
2022-08-18 22:45:32.444 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:45:32.472 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 383 application/json;+charset=utf-8 1777.8745ms
2022-08-18 22:45:53.198 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 63
2022-08-18 22:45:53.200 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:45:53.207 +02:00 [INF] Route matched with {action = "Handle", controller = "Create", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] HandleAsync(myBankAccount.Web.Endpoints.BankAccountEnpoints.CreateBankOperationRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.BankAccountEnpoints.Create (myBankAccount.Web).
2022-08-18 22:45:53.474 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:45:53.538 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BalanceAfterOperation", "b0"."BalanceBeforeOperation", "b0"."BankAccountId", "b0"."DateOperation", "b0"."OperationSuccess", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:45:53.617 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BankAccounts" SET "Balance" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-08-18 22:45:53.628 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = Boolean), @p6='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BalanceAfterOperation", "BalanceBeforeOperation", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:45:53.657 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2022-08-18 22:45:53.701 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web) in 470.6798ms
2022-08-18 22:45:53.703 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:45:53.737 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 63 - 200 4 application/json;+charset=utf-8 538.7653ms
2022-08-18 22:45:58.261 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 22:45:58.262 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:45:58.262 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 22:45:58.267 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:45:58.269 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BalanceAfterOperation", "b0"."BalanceBeforeOperation", "b0"."BankAccountId", "b0"."DateOperation", "b0"."OperationSuccess", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:45:58.272 +02:00 [INF] test {"Name":"Martin","Balance":1000,"BankOperations":[{"Type":"Desposit","Amount":2000,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-17T22:45:16.9599380","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-18T22:45:16.9600500","Id":2,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Deposit","Amount":1000,"BalanceBeforeOperation":0,"BalanceAfterOperation":1000,"OperationSuccess":true,"DateOperation":"2022-08-18T22:45:53.5579380","Id":5,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 22:45:58.275 +02:00 [INF] test {"Id":1,"Name":"Martin","Balance":1000,"BankOperations":[{"Type":"Desposit","Amount":2000,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-17T22:45:16.9599380","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":100,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-18T22:45:16.9600500","$type":"BankOperationRecord"},{"Type":"Deposit","Amount":1000,"BalanceBeforeOperation":0,"BalanceAfterOperation":1000,"OperationSuccess":true,"DateOperation":"2022-08-18T22:45:53.5579380","$type":"BankOperationRecord"}],"$type":"GetBankAccountByIdResponse"}
2022-08-18 22:45:58.280 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 22:45:58.281 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 15.1237ms
2022-08-18 22:45:58.281 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:45:58.281 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 550 application/json;+charset=utf-8 20.1260ms
2022-08-18 22:46:20.504 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 66
2022-08-18 22:46:20.505 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:46:20.505 +02:00 [INF] Route matched with {action = "Handle", controller = "Create", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] HandleAsync(myBankAccount.Web.Endpoints.BankAccountEnpoints.CreateBankOperationRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.BankAccountEnpoints.Create (myBankAccount.Web).
2022-08-18 22:46:20.509 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:46:20.511 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BalanceAfterOperation", "b0"."BalanceBeforeOperation", "b0"."BankAccountId", "b0"."DateOperation", "b0"."OperationSuccess", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:46:20.513 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BankAccounts" SET "Balance" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-08-18 22:46:20.515 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = Boolean), @p6='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BalanceAfterOperation", "BalanceBeforeOperation", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:46:20.530 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2022-08-18 22:46:20.530 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web) in 24.8661ms
2022-08-18 22:46:20.530 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:46:20.531 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 66 - 200 5 application/json;+charset=utf-8 26.3819ms
2022-08-18 22:46:27.640 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 22:46:27.642 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:46:27.643 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 22:46:27.648 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:46:27.650 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BalanceAfterOperation", "b0"."BalanceBeforeOperation", "b0"."BankAccountId", "b0"."DateOperation", "b0"."OperationSuccess", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:46:27.652 +02:00 [INF] test {"Name":"Martin","Balance":1000,"BankOperations":[{"Type":"Desposit","Amount":2000,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-17T22:45:16.9599380","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-18T22:45:16.9600500","Id":2,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Deposit","Amount":1000,"BalanceBeforeOperation":0,"BalanceAfterOperation":1000,"OperationSuccess":true,"DateOperation":"2022-08-18T22:45:53.5579380","Id":5,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":2000,"BalanceBeforeOperation":1000,"BalanceAfterOperation":1000,"OperationSuccess":false,"DateOperation":"2022-08-18T22:46:20.5124220","Id":6,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 22:46:27.691 +02:00 [INF] test {"Id":1,"Name":"Martin","Balance":1000,"BankOperations":[{"Type":"Desposit","Amount":2000,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-17T22:45:16.9599380","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":100,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-18T22:45:16.9600500","$type":"BankOperationRecord"},{"Type":"Deposit","Amount":1000,"BalanceBeforeOperation":0,"BalanceAfterOperation":1000,"OperationSuccess":true,"DateOperation":"2022-08-18T22:45:53.5579380","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":2000,"BalanceBeforeOperation":1000,"BalanceAfterOperation":1000,"OperationSuccess":false,"DateOperation":"2022-08-18T22:46:20.5124220","$type":"BankOperationRecord"}],"$type":"GetBankAccountByIdResponse"}
2022-08-18 22:46:27.702 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 22:46:27.703 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 59.6836ms
2022-08-18 22:46:27.703 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:46:27.703 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 721 application/json;+charset=utf-8 63.1472ms
2022-08-18 22:47:01.577 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 65
2022-08-18 22:47:01.577 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:47:01.578 +02:00 [INF] Route matched with {action = "Handle", controller = "Create", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] HandleAsync(myBankAccount.Web.Endpoints.BankAccountEnpoints.CreateBankOperationRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.BankAccountEnpoints.Create (myBankAccount.Web).
2022-08-18 22:47:01.581 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:47:01.582 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BalanceAfterOperation", "b0"."BalanceBeforeOperation", "b0"."BankAccountId", "b0"."DateOperation", "b0"."OperationSuccess", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:47:01.584 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BankAccounts" SET "Balance" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2022-08-18 22:47:01.585 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (DbType = Double), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = Boolean), @p6='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "bankOperations" ("Amount", "BalanceAfterOperation", "BalanceBeforeOperation", "BankAccountId", "DateOperation", "OperationSuccess", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT "Id"
FROM "bankOperations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-08-18 22:47:01.590 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2022-08-18 22:47:01.591 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web) in 12.9349ms
2022-08-18 22:47:01.591 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.BankAccountEnpoints.Create.HandleAsync (myBankAccount.Web)'
2022-08-18 22:47:01.592 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:57679/BankAccounts/Operation application/json-patch+json 65 - 200 4 application/json;+charset=utf-8 14.8079ms
2022-08-18 22:47:03.939 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - -
2022-08-18 22:47:03.939 +02:00 [INF] Executing endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:47:03.939 +02:00 [INF] Route matched with {action = "Handle", controller = "GetById", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[myBankAccount.Web.Endpoints.GetBankAccountByIdResponse]] HandleAsync(myBankAccount.Web.Endpoints.GetBankAccountByIdRequest, System.Threading.CancellationToken) on controller myBankAccount.Web.Endpoints.GetById (myBankAccount.Web).
2022-08-18 22:47:03.942 +02:00 [INF] Entity Framework Core 6.0.5 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.5' with options: None
2022-08-18 22:47:03.943 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__BankAccountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Balance", "t"."Name", "b0"."Id", "b0"."Amount", "b0"."BalanceAfterOperation", "b0"."BalanceBeforeOperation", "b0"."BankAccountId", "b0"."DateOperation", "b0"."OperationSuccess", "b0"."Type"
FROM (
    SELECT "b"."Id", "b"."Balance", "b"."Name"
    FROM "BankAccounts" AS "b"
    WHERE "b"."Id" = @__BankAccountId_0
    LIMIT 1
) AS "t"
LEFT JOIN "bankOperations" AS "b0" ON "t"."Id" = "b0"."BankAccountId"
ORDER BY "t"."Id"
2022-08-18 22:47:03.944 +02:00 [INF] test {"Name":"Martin","Balance":900,"BankOperations":[{"Type":"Desposit","Amount":2000,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-17T22:45:16.9599380","Id":1,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-18T22:45:16.9600500","Id":2,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Deposit","Amount":1000,"BalanceBeforeOperation":0,"BalanceAfterOperation":1000,"OperationSuccess":true,"DateOperation":"2022-08-18T22:45:53.5579380","Id":5,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":2000,"BalanceBeforeOperation":1000,"BalanceAfterOperation":1000,"OperationSuccess":false,"DateOperation":"2022-08-18T22:46:20.5124220","Id":6,"DomainEvents":[],"$type":"BankOperation"},{"Type":"Withdrawal","Amount":100,"BalanceBeforeOperation":1000,"BalanceAfterOperation":900,"OperationSuccess":true,"DateOperation":"2022-08-18T22:47:01.5835240","Id":7,"DomainEvents":[],"$type":"BankOperation"}],"Id":1,"DomainEvents":[],"$type":"BankAccount"}
2022-08-18 22:47:03.976 +02:00 [INF] test {"Id":1,"Name":"Martin","Balance":900,"BankOperations":[{"Type":"Desposit","Amount":2000,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-17T22:45:16.9599380","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":100,"BalanceBeforeOperation":0,"BalanceAfterOperation":0,"OperationSuccess":false,"DateOperation":"2022-08-18T22:45:16.9600500","$type":"BankOperationRecord"},{"Type":"Deposit","Amount":1000,"BalanceBeforeOperation":0,"BalanceAfterOperation":1000,"OperationSuccess":true,"DateOperation":"2022-08-18T22:45:53.5579380","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":2000,"BalanceBeforeOperation":1000,"BalanceAfterOperation":1000,"OperationSuccess":false,"DateOperation":"2022-08-18T22:46:20.5124220","$type":"BankOperationRecord"},{"Type":"Withdrawal","Amount":100,"BalanceBeforeOperation":1000,"BalanceAfterOperation":900,"OperationSuccess":true,"DateOperation":"2022-08-18T22:47:01.5835240","$type":"BankOperationRecord"}],"$type":"GetBankAccountByIdResponse"}
2022-08-18 22:47:04.006 +02:00 [INF] Executing OkObjectResult, writing value of type 'myBankAccount.Web.Endpoints.GetBankAccountByIdResponse'.
2022-08-18 22:47:04.017 +02:00 [INF] Executed action myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web) in 76.2811ms
2022-08-18 22:47:04.018 +02:00 [INF] Executed endpoint 'myBankAccount.Web.Endpoints.GetById.HandleAsync (myBankAccount.Web)'
2022-08-18 22:47:04.020 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57679/BankAccounts/1 - - - 200 888 application/json;+charset=utf-8 80.5163ms
2022-08-18 22:50:53.481 +02:00 [INF] Application is shutting down...
